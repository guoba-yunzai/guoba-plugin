import{u as useLoginState,a as useFormRules,_ as _sfc_main$1,b as useFormValid,L as LoginStateEnum}from"./LoginFormTitle.vue_vue_type_script_setup_true_lang.js";import{d as defineComponent,bB as Form,d7 as Input,r as ref,a as reactive,A as computed,o as openBlock,e as createElementBlock,j as createVNode,i as withCtx,D as unref,d8 as Checkbox,k as createTextVNode,m as toDisplayString,O as Button,F as Fragment,B as createCommentVNode,aa as useI18n}from"./index.js";import{S as StrengthMeter}from"./index23.js";import{C as CountdownInput}from"./index24.js";const _sfc_main=defineComponent({__name:"RegisterForm",setup(__props){const FormItem=Form.Item,InputPassword=Input.Password,{t:t}=useI18n(),{handleBackLogin:handleBackLogin,getLoginState:getLoginState}=useLoginState(),formRef=ref(),loading=ref(!1),formData=reactive({account:"",password:"",confirmPassword:"",mobile:"",sms:"",policy:!1}),{getFormRules:getFormRules}=useFormRules(formData),{validForm:validForm}=useFormValid(formRef),getShow=computed((()=>unref(getLoginState)===LoginStateEnum.REGISTER));function handleRegister(){return __this=this,__arguments=null,generator=function*(){const data=yield validForm();data&&console.log(data)},new Promise(((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}},rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}},step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())}));var __this,__arguments,generator}return(_ctx,_cache)=>getShow.value?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(_sfc_main$1,{class:"enter-x"}),createVNode(unref(Form),{class:"p-4 enter-x",model:formData,rules:unref(getFormRules),ref_key:"formRef",ref:formRef},{default:withCtx((()=>[createVNode(unref(FormItem),{name:"account",class:"enter-x"},{default:withCtx((()=>[createVNode(unref(Input),{class:"fix-auto-fill",size:"large",value:formData.account,"onUpdate:value":_cache[0]||(_cache[0]=$event=>formData.account=$event),placeholder:unref(t)("sys.login.userName")},null,8,["value","placeholder"])])),_:1}),createVNode(unref(FormItem),{name:"mobile",class:"enter-x"},{default:withCtx((()=>[createVNode(unref(Input),{size:"large",value:formData.mobile,"onUpdate:value":_cache[1]||(_cache[1]=$event=>formData.mobile=$event),placeholder:unref(t)("sys.login.mobile"),class:"fix-auto-fill"},null,8,["value","placeholder"])])),_:1}),createVNode(unref(FormItem),{name:"sms",class:"enter-x"},{default:withCtx((()=>[createVNode(unref(CountdownInput),{size:"large",class:"fix-auto-fill",value:formData.sms,"onUpdate:value":_cache[2]||(_cache[2]=$event=>formData.sms=$event),placeholder:unref(t)("sys.login.smsCode")},null,8,["value","placeholder"])])),_:1}),createVNode(unref(FormItem),{name:"password",class:"enter-x"},{default:withCtx((()=>[createVNode(unref(StrengthMeter),{size:"large",value:formData.password,"onUpdate:value":_cache[3]||(_cache[3]=$event=>formData.password=$event),placeholder:unref(t)("sys.login.password")},null,8,["value","placeholder"])])),_:1}),createVNode(unref(FormItem),{name:"confirmPassword",class:"enter-x"},{default:withCtx((()=>[createVNode(unref(InputPassword),{size:"large",visibilityToggle:"",value:formData.confirmPassword,"onUpdate:value":_cache[4]||(_cache[4]=$event=>formData.confirmPassword=$event),placeholder:unref(t)("sys.login.confirmPassword")},null,8,["value","placeholder"])])),_:1}),createVNode(unref(FormItem),{class:"enter-x",name:"policy"},{default:withCtx((()=>[createVNode(unref(Checkbox),{checked:formData.policy,"onUpdate:checked":_cache[5]||(_cache[5]=$event=>formData.policy=$event),size:"small"},{default:withCtx((()=>[createTextVNode(toDisplayString(unref(t)("sys.login.policy")),1)])),_:1},8,["checked"])])),_:1}),createVNode(unref(Button),{type:"primary",class:"enter-x",size:"large",block:"",onClick:handleRegister,loading:loading.value},{default:withCtx((()=>[createTextVNode(toDisplayString(unref(t)("sys.login.registerButton")),1)])),_:1},8,["loading"]),createVNode(unref(Button),{size:"large",block:"",class:"mt-4 enter-x",onClick:unref(handleBackLogin)},{default:withCtx((()=>[createTextVNode(toDisplayString(unref(t)("sys.login.backSignIn")),1)])),_:1},8,["onClick"])])),_:1},8,["model","rules"])],64)):createCommentVNode("",!0)}});export{_sfc_main as _};
