const __vite__fileDeps=["assets/index18.js","assets/index.js","assets/index.css","assets/LockPage.js","assets/lock.js","assets/header.js","assets/LockPage.css","assets/index36.js","assets/index35.js","assets/index29.js","assets/index10.css","assets/ArrowLeftOutlined.js","assets/index17.css","assets/index2.js","assets/PluginIcon.vue_vue_type_style_index_0_lang.js","assets/PluginIcon.css","assets/FullscreenOutlined.js","assets/index17.js","assets/useWindowSizeFn.js","assets/useContentViewHeight.js","assets/index11.css","assets/uniqBy.js","assets/RedoOutlined.js","assets/index3.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{ch as wrapperRaf,ce as _toConsumableArray,j as createVNode,I as Icon,bX as withInstall,d as defineComponent,bP as useConfigInject,r as ref,a as reactive,w as watch,n as nextTick,ao as onMounted,d4 as onActivated,fZ as onDeactivated,cj as onBeforeUnmount,_ as _objectSpread2,bQ as _defineProperty$1,c0 as getTransitionProps,V as withDirectives,Z as vShow,aW as Transition,cS as addEventListenerWrap,K as createAsyncComponent,L as __vitePreload,aJ as useRootSetting,g9 as useUserStoreWithOut,z as useDesign,A as computed,D as unref,aT as SettingButtonPositionEnum,b as _export_sfc,c as resolveComponent,o as openBlock,e as createElementBlock,h as createBlock,B as createCommentVNode,C as normalizeClass,F as Fragment}from"./index.js";import{u as useHeaderSetting}from"./index2.js";import SessionTimeoutLogin from"./SessionTimeoutLogin.js";import{s as scrollTo,g as getScroll}from"./scrollTo.js";import"./PluginIcon.vue_vue_type_style_index_0_lang.js";import"./FullscreenOutlined.js";import"./index17.js";import"./useWindowSizeFn.js";import"./useContentViewHeight.js";import"./uniqBy.js";import"./index29.js";import"./RedoOutlined.js";import"./lock.js";import"./Login.vue_vue_type_style_index_0_lang.js";import"./GuobaLoginForm.vue_vue_type_script_setup_true_lang.js";import"./common.js";import"./ForgetPasswordForm.vue_vue_type_script_setup_true_lang.js";import"./LoginFormTitle.vue_vue_type_script_setup_true_lang.js";import"./index24.js";import"./useFormItem.js";import"./RegisterForm.vue_vue_type_script_setup_true_lang.js";import"./index23.js";import"./MobileForm.vue_vue_type_script_setup_true_lang.js";import"./QrCodeForm.vue_vue_type_script_setup_true_lang.js";import"./download.js";function throttleByAnimationFrame(fn){var requestId,throttled=function(){if(null==requestId){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];requestId=wrapperRaf(function(args){return function(){requestId=null,fn.apply(void 0,_toConsumableArray(args))}}(args))}};return throttled.cancel=function(){return wrapperRaf.cancel(requestId)},throttled}var VerticalAlignTopOutlined$1={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M859.9 168H164.1c-4.5 0-8.1 3.6-8.1 8v60c0 4.4 3.6 8 8.1 8h695.8c4.5 0 8.1-3.6 8.1-8v-60c0-4.4-3.6-8-8.1-8zM518.3 355a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V848c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V509.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 355z"}}]},name:"vertical-align-top",theme:"outlined"};function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?Object(arguments[i]):{},ownKeys=Object.keys(source);"function"==typeof Object.getOwnPropertySymbols&&(ownKeys=ownKeys.concat(Object.getOwnPropertySymbols(source).filter((function(sym){return Object.getOwnPropertyDescriptor(source,sym).enumerable})))),ownKeys.forEach((function(key){_defineProperty(target,key,source[key])}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var VerticalAlignTopOutlined=function(props,context){var p=_objectSpread({},props,context.attrs);return createVNode(Icon,_objectSpread({},p,{icon:VerticalAlignTopOutlined$1}),null)};VerticalAlignTopOutlined.displayName="VerticalAlignTopOutlined",VerticalAlignTopOutlined.inheritAttrs=!1;var BackTop=defineComponent({compatConfig:{MODE:3},name:"ABackTop",inheritAttrs:!1,props:{visibilityHeight:{type:Number,default:400},duration:{type:Number,default:450},target:Function,prefixCls:String,onClick:Function},setup:function(props,_ref){var slots=_ref.slots,attrs=_ref.attrs,emit=_ref.emit,_useConfigInject=useConfigInject("back-top",props),prefixCls=_useConfigInject.prefixCls,direction=_useConfigInject.direction,domRef=ref(),state=reactive({visible:!1,scrollEvent:null}),getDefaultTarget=function(){return domRef.value&&domRef.value.ownerDocument?domRef.value.ownerDocument:window},scrollToTop=function(e){var _props$target=props.target,target=void 0===_props$target?getDefaultTarget:_props$target,duration=props.duration;scrollTo(0,{getContainer:target,duration:duration}),emit("click",e)},handleScroll=throttleByAnimationFrame((function(e){var visibilityHeight=props.visibilityHeight,scrollTop=getScroll(e.target);state.visible=scrollTop>visibilityHeight})),bindScrollEvent=function(){var container=(props.target||getDefaultTarget)();state.scrollEvent=addEventListenerWrap(container,"scroll",(function(e){handleScroll(e)})),handleScroll({target:container})},scrollRemove=function(){state.scrollEvent&&state.scrollEvent.remove(),handleScroll.cancel()};return watch((function(){return props.target}),(function(){scrollRemove(),nextTick((function(){bindScrollEvent()}))})),onMounted((function(){nextTick((function(){bindScrollEvent()}))})),onActivated((function(){nextTick((function(){bindScrollEvent()}))})),onDeactivated((function(){scrollRemove()})),onBeforeUnmount((function(){scrollRemove()})),function(){var _class,_slots$default,defaultElement=createVNode("div",{class:"".concat(prefixCls.value,"-content")},[createVNode("div",{class:"".concat(prefixCls.value,"-icon")},[createVNode(VerticalAlignTopOutlined,null,null)])]),divProps=_objectSpread2(_objectSpread2({},attrs),{},{onClick:scrollToTop,class:(_class={},_defineProperty$1(_class,"".concat(prefixCls.value),!0),_defineProperty$1(_class,"".concat(attrs.class),attrs.class),_defineProperty$1(_class,"".concat(prefixCls.value,"-rtl"),"rtl"===direction.value),_class)}),transitionProps=getTransitionProps("fade");return createVNode(Transition,transitionProps,{default:function(){return[withDirectives(createVNode("div",_objectSpread2(_objectSpread2({},divProps),{},{ref:domRef}),[(null===(_slots$default=slots.default)||void 0===_slots$default?void 0:_slots$default.call(slots))||defaultElement]),[[vShow,state.visible]])]}})}}});const index=_export_sfc(defineComponent({name:"LayoutFeatures",components:{BackTop:withInstall(BackTop),LayoutLockPage:createAsyncComponent((()=>__vitePreload((()=>import("./index18.js")),__vite__mapDeps([0,1,2,3,4,5,6])))),SettingDrawer:createAsyncComponent((()=>__vitePreload((()=>import("./index36.js").then((n=>n.i))),__vite__mapDeps([7,8,1,2,9,10,11,12,13,14,15,16,17,18,19,20,21,22,4,23])))),SessionTimeoutLogin:SessionTimeoutLogin},setup(){const{getUseOpenBackTop:getUseOpenBackTop,getShowSettingButton:getShowSettingButton,getSettingButtonPosition:getSettingButtonPosition,getFullContent:getFullContent}=useRootSetting(),userStore=useUserStoreWithOut(),{prefixCls:prefixCls}=useDesign("setting-drawer-feature"),{getShowHeader:getShowHeader}=useHeaderSetting(),getIsSessionTimeout=computed((()=>userStore.getSessionTimeout));return{getTarget:()=>document.body,getUseOpenBackTop:getUseOpenBackTop,getIsFixedSettingDrawer:computed((()=>{if(!unref(getShowSettingButton))return!1;const settingButtonPosition=unref(getSettingButtonPosition);return settingButtonPosition===SettingButtonPositionEnum.AUTO?!unref(getShowHeader)||unref(getFullContent):settingButtonPosition===SettingButtonPositionEnum.FIXED})),prefixCls:prefixCls,getIsSessionTimeout:getIsSessionTimeout}}}),[["render",function(_ctx,_cache,$props,$setup,$data,$options){const _component_LayoutLockPage=resolveComponent("LayoutLockPage"),_component_BackTop=resolveComponent("BackTop"),_component_SettingDrawer=resolveComponent("SettingDrawer"),_component_SessionTimeoutLogin=resolveComponent("SessionTimeoutLogin");return openBlock(),createElementBlock(Fragment,null,[createVNode(_component_LayoutLockPage),_ctx.getUseOpenBackTop?(openBlock(),createBlock(_component_BackTop,{key:0,target:_ctx.getTarget},null,8,["target"])):createCommentVNode("",!0),_ctx.getIsFixedSettingDrawer?(openBlock(),createBlock(_component_SettingDrawer,{key:1,class:normalizeClass(_ctx.prefixCls)},null,8,["class"])):createCommentVNode("",!0),_ctx.getIsSessionTimeout?(openBlock(),createBlock(_component_SessionTimeoutLogin,{key:2})):createCommentVNode("",!0)],64)}]]);export{index as default};
