var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__pow=Math.pow,__defNormalProp=(obj,key,value)=>key in obj?__defProp(obj,key,{enumerable:!0,configurable:!0,writable:!0,value:value}):obj[key]=value,__spreadValues=(a,b)=>{for(var prop in b||(b={}))__hasOwnProp.call(b,prop)&&__defNormalProp(a,prop,b[prop]);if(__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(b))__propIsEnum.call(b,prop)&&__defNormalProp(a,prop,b[prop]);return a},__spreadProps=(a,b)=>__defProps(a,__getOwnPropDescs(b)),__objRest=(source,exclude)=>{var target={};for(var prop in source)__hasOwnProp.call(source,prop)&&exclude.indexOf(prop)<0&&(target[prop]=source[prop]);if(null!=source&&__getOwnPropSymbols)for(var prop of __getOwnPropSymbols(source))exclude.indexOf(prop)<0&&__propIsEnum.call(source,prop)&&(target[prop]=source[prop]);return target};import{X as getDefaultExportFromCjs,a1 as require$$1,p as propTypes,s as inject,r as ref,a as reactive,A as computed,w as watch,D as unref,d as defineComponent,b as _export_sfc,c as resolveComponent,o as openBlock,e as createElementBlock,j as createVNode,i as withCtx,E as createBaseVNode,H as mergeProps,k as createTextVNode,F as Fragment,f as renderList,h as createBlock,m as toDisplayString,C as normalizeClass,z as useDesign,J as provide,B as createCommentVNode,M as useAttrs,a2 as normalizeProps,a3 as guardReactiveProps,a4 as Icon,y as useMessage}from"./index.js";import{B as BasicModal,u as useModalInner,a as useModal}from"./index19.js";import{I as InputNumber}from"./index21.js";import{d as dateFormat,s as simpleDebounce}from"./common.js";import"./useWindowSizeFn.js";import"./FullscreenOutlined.js";var luxon$1={};Object.defineProperty(luxon$1,"__esModule",{value:!0});class LuxonError extends Error{}class InvalidDateTimeError extends LuxonError{constructor(reason){super(`Invalid DateTime: ${reason.toMessage()}`)}}class InvalidIntervalError extends LuxonError{constructor(reason){super(`Invalid Interval: ${reason.toMessage()}`)}}class InvalidDurationError extends LuxonError{constructor(reason){super(`Invalid Duration: ${reason.toMessage()}`)}}class ConflictingSpecificationError extends LuxonError{}class InvalidUnitError extends LuxonError{constructor(unit){super(`Invalid unit ${unit}`)}}class InvalidArgumentError extends LuxonError{}class ZoneIsAbstractError extends LuxonError{constructor(){super("Zone is an abstract class")}}const n="numeric",s="short",l="long",DATE_SHORT={year:n,month:n,day:n},DATE_MED={year:n,month:s,day:n},DATE_MED_WITH_WEEKDAY={year:n,month:s,day:n,weekday:s},DATE_FULL={year:n,month:l,day:n},DATE_HUGE={year:n,month:l,day:n,weekday:l},TIME_SIMPLE={hour:n,minute:n},TIME_WITH_SECONDS={hour:n,minute:n,second:n},TIME_WITH_SHORT_OFFSET={hour:n,minute:n,second:n,timeZoneName:s},TIME_WITH_LONG_OFFSET={hour:n,minute:n,second:n,timeZoneName:l},TIME_24_SIMPLE={hour:n,minute:n,hourCycle:"h23"},TIME_24_WITH_SECONDS={hour:n,minute:n,second:n,hourCycle:"h23"},TIME_24_WITH_SHORT_OFFSET={hour:n,minute:n,second:n,hourCycle:"h23",timeZoneName:s},TIME_24_WITH_LONG_OFFSET={hour:n,minute:n,second:n,hourCycle:"h23",timeZoneName:l},DATETIME_SHORT={year:n,month:n,day:n,hour:n,minute:n},DATETIME_SHORT_WITH_SECONDS={year:n,month:n,day:n,hour:n,minute:n,second:n},DATETIME_MED={year:n,month:s,day:n,hour:n,minute:n},DATETIME_MED_WITH_SECONDS={year:n,month:s,day:n,hour:n,minute:n,second:n},DATETIME_MED_WITH_WEEKDAY={year:n,month:s,day:n,weekday:s,hour:n,minute:n},DATETIME_FULL={year:n,month:l,day:n,hour:n,minute:n,timeZoneName:s},DATETIME_FULL_WITH_SECONDS={year:n,month:l,day:n,hour:n,minute:n,second:n,timeZoneName:s},DATETIME_HUGE={year:n,month:l,day:n,weekday:l,hour:n,minute:n,timeZoneName:l},DATETIME_HUGE_WITH_SECONDS={year:n,month:l,day:n,weekday:l,hour:n,minute:n,second:n,timeZoneName:l};class Zone{get type(){throw new ZoneIsAbstractError}get name(){throw new ZoneIsAbstractError}get ianaName(){return this.name}get isUniversal(){throw new ZoneIsAbstractError}offsetName(ts,opts){throw new ZoneIsAbstractError}formatOffset(ts,format){throw new ZoneIsAbstractError}offset(ts){throw new ZoneIsAbstractError}equals(otherZone){throw new ZoneIsAbstractError}get isValid(){throw new ZoneIsAbstractError}}let singleton$1=null;class SystemZone extends Zone{static get instance(){return null===singleton$1&&(singleton$1=new SystemZone),singleton$1}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(ts,{format:format,locale:locale}){return parseZoneInfo(ts,format,locale)}formatOffset(ts,format){return formatOffset(this.offset(ts),format)}offset(ts){return-new Date(ts).getTimezoneOffset()}equals(otherZone){return"system"===otherZone.type}get isValid(){return!0}}let dtfCache={};const typeToPos={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let ianaZoneCache={};class IANAZone extends Zone{static create(name){return ianaZoneCache[name]||(ianaZoneCache[name]=new IANAZone(name)),ianaZoneCache[name]}static resetCache(){ianaZoneCache={},dtfCache={}}static isValidSpecifier(s2){return this.isValidZone(s2)}static isValidZone(zone){if(!zone)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:zone}).format(),!0}catch(e){return!1}}constructor(name){super(),this.zoneName=name,this.valid=IANAZone.isValidZone(name)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(ts,{format:format,locale:locale}){return parseZoneInfo(ts,format,locale,this.name)}formatOffset(ts,format){return formatOffset(this.offset(ts),format)}offset(ts){const date2=new Date(ts);if(isNaN(date2))return NaN;const dtf=(zone=this.name,dtfCache[zone]||(dtfCache[zone]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:zone,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),dtfCache[zone]);var zone;let[year,month,day,adOrBc,hour,minute,second]=dtf.formatToParts?function(dtf,date2){const formatted=dtf.formatToParts(date2),filled=[];for(let i=0;i<formatted.length;i++){const{type:type,value:value}=formatted[i],pos=typeToPos[type];"era"===type?filled[pos]=value:isUndefined(pos)||(filled[pos]=parseInt(value,10))}return filled}(dtf,date2):function(dtf,date2){const formatted=dtf.format(date2).replace(/\u200E/g,""),parsed=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(formatted),[,fMonth,fDay,fYear,fadOrBc,fHour,fMinute,fSecond]=parsed;return[fYear,fMonth,fDay,fadOrBc,fHour,fMinute,fSecond]}(dtf,date2);"BC"===adOrBc&&(year=1-Math.abs(year));let asTS=+date2;const over=asTS%1e3;return asTS-=over>=0?over:1e3+over,(objToLocalTS({year:year,month:month,day:day,hour:24===hour?0:hour,minute:minute,second:second,millisecond:0})-asTS)/6e4}equals(otherZone){return"iana"===otherZone.type&&otherZone.name===this.name}get isValid(){return this.valid}}let intlLFCache={};let intlDTCache={};function getCachedDTF(locString,opts={}){const key=JSON.stringify([locString,opts]);let dtf=intlDTCache[key];return dtf||(dtf=new Intl.DateTimeFormat(locString,opts),intlDTCache[key]=dtf),dtf}let intlNumCache={};let intlRelCache={};let sysLocaleCache=null;let weekInfoCache={};function listStuff(loc,length,englishFn,intlFn){const mode=loc.listingMode();return"error"===mode?null:"en"===mode?englishFn(length):intlFn(length)}class PolyNumberFormatter{constructor(intl,forceSimple,opts){this.padTo=opts.padTo||0,this.floor=opts.floor||!1;const _a=opts,{padTo:padTo,floor:floor}=_a,otherOpts=__objRest(_a,["padTo","floor"]);if(!forceSimple||Object.keys(otherOpts).length>0){const intlOpts=__spreadValues({useGrouping:!1},opts);opts.padTo>0&&(intlOpts.minimumIntegerDigits=opts.padTo),this.inf=function(locString,opts={}){const key=JSON.stringify([locString,opts]);let inf=intlNumCache[key];return inf||(inf=new Intl.NumberFormat(locString,opts),intlNumCache[key]=inf),inf}(intl,intlOpts)}}format(i){if(this.inf){const fixed=this.floor?Math.floor(i):i;return this.inf.format(fixed)}return padStart(this.floor?Math.floor(i):roundTo(i,3),this.padTo)}}class PolyDateFormatter{constructor(dt,intl,opts){let z;if(this.opts=opts,this.originalZone=void 0,this.opts.timeZone)this.dt=dt;else if("fixed"===dt.zone.type){const gmtOffset=dt.offset/60*-1,offsetZ=gmtOffset>=0?`Etc/GMT+${gmtOffset}`:`Etc/GMT${gmtOffset}`;0!==dt.offset&&IANAZone.create(offsetZ).valid?(z=offsetZ,this.dt=dt):(z="UTC",this.dt=0===dt.offset?dt:dt.setZone("UTC").plus({minutes:dt.offset}),this.originalZone=dt.zone)}else"system"===dt.zone.type?this.dt=dt:"iana"===dt.zone.type?(this.dt=dt,z=dt.zone.name):(z="UTC",this.dt=dt.setZone("UTC").plus({minutes:dt.offset}),this.originalZone=dt.zone);const intlOpts=__spreadValues({},this.opts);intlOpts.timeZone=intlOpts.timeZone||z,this.dtf=getCachedDTF(intl,intlOpts)}format(){return this.originalZone?this.formatToParts().map((({value:value})=>value)).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const parts=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?parts.map((part=>{if("timeZoneName"===part.type){const offsetName=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return __spreadProps(__spreadValues({},part),{value:offsetName})}return part})):parts}resolvedOptions(){return this.dtf.resolvedOptions()}}class PolyRelFormatter{constructor(intl,isEnglish,opts){this.opts=__spreadValues({style:"long"},opts),!isEnglish&&hasRelative()&&(this.rtf=function(locString,opts={}){const _a=opts,{base:base}=_a,cacheKeyOpts=__objRest(_a,["base"]),key=JSON.stringify([locString,cacheKeyOpts]);let inf=intlRelCache[key];return inf||(inf=new Intl.RelativeTimeFormat(locString,opts),intlRelCache[key]=inf),inf}(intl,opts))}format(count,unit){return this.rtf?this.rtf.format(count,unit):function(unit,count,numeric="always",narrow=!1){const units={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},lastable=-1===["hours","minutes","seconds"].indexOf(unit);if("auto"===numeric&&lastable){const isDay="days"===unit;switch(count){case 1:return isDay?"tomorrow":`next ${units[unit][0]}`;case-1:return isDay?"yesterday":`last ${units[unit][0]}`;case 0:return isDay?"today":`this ${units[unit][0]}`}}const isInPast=Object.is(count,-0)||count<0,fmtValue=Math.abs(count),singular=1===fmtValue,lilUnits=units[unit],fmtUnit=narrow?singular?lilUnits[1]:lilUnits[2]||lilUnits[1]:singular?units[unit][0]:unit;return isInPast?`${fmtValue} ${fmtUnit} ago`:`in ${fmtValue} ${fmtUnit}`}(unit,count,this.opts.numeric,"long"!==this.opts.style)}formatToParts(count,unit){return this.rtf?this.rtf.formatToParts(count,unit):[]}}const fallbackWeekSettings={firstDay:1,minimalDays:4,weekend:[6,7]};class Locale{static fromOpts(opts){return Locale.create(opts.locale,opts.numberingSystem,opts.outputCalendar,opts.weekSettings,opts.defaultToEN)}static create(locale,numberingSystem,outputCalendar,weekSettings,defaultToEN=!1){const specifiedLocale=locale||Settings.defaultLocale,localeR=specifiedLocale||(defaultToEN?"en-US":sysLocaleCache||(sysLocaleCache=(new Intl.DateTimeFormat).resolvedOptions().locale,sysLocaleCache)),numberingSystemR=numberingSystem||Settings.defaultNumberingSystem,outputCalendarR=outputCalendar||Settings.defaultOutputCalendar,weekSettingsR=validateWeekSettings(weekSettings)||Settings.defaultWeekSettings;return new Locale(localeR,numberingSystemR,outputCalendarR,weekSettingsR,specifiedLocale)}static resetCache(){sysLocaleCache=null,intlDTCache={},intlNumCache={},intlRelCache={}}static fromObject({locale:locale,numberingSystem:numberingSystem,outputCalendar:outputCalendar,weekSettings:weekSettings}={}){return Locale.create(locale,numberingSystem,outputCalendar,weekSettings)}constructor(locale,numbering,outputCalendar,weekSettings,specifiedLocale){const[parsedLocale,parsedNumberingSystem,parsedOutputCalendar]=function(localeStr){const xIndex=localeStr.indexOf("-x-");-1!==xIndex&&(localeStr=localeStr.substring(0,xIndex));const uIndex=localeStr.indexOf("-u-");if(-1===uIndex)return[localeStr];{let options,selectedStr;try{options=getCachedDTF(localeStr).resolvedOptions(),selectedStr=localeStr}catch(e){const smaller=localeStr.substring(0,uIndex);options=getCachedDTF(smaller).resolvedOptions(),selectedStr=smaller}const{numberingSystem:numberingSystem,calendar:calendar}=options;return[selectedStr,numberingSystem,calendar]}}(locale);this.locale=parsedLocale,this.numberingSystem=numbering||parsedNumberingSystem||null,this.outputCalendar=outputCalendar||parsedOutputCalendar||null,this.weekSettings=weekSettings,this.intl=function(localeStr,numberingSystem,outputCalendar){return outputCalendar||numberingSystem?(localeStr.includes("-u-")||(localeStr+="-u"),outputCalendar&&(localeStr+=`-ca-${outputCalendar}`),numberingSystem&&(localeStr+=`-nu-${numberingSystem}`),localeStr):localeStr}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=specifiedLocale,this.fastNumbersCached=null}get fastNumbers(){var loc;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(loc=this).numberingSystem||"latn"===loc.numberingSystem)&&("latn"===loc.numberingSystem||!loc.locale||loc.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(loc.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}listingMode(){const isActuallyEn=this.isEnglish(),hasNoWeirdness=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return isActuallyEn&&hasNoWeirdness?"en":"intl"}clone(alts){return alts&&0!==Object.getOwnPropertyNames(alts).length?Locale.create(alts.locale||this.specifiedLocale,alts.numberingSystem||this.numberingSystem,alts.outputCalendar||this.outputCalendar,validateWeekSettings(alts.weekSettings)||this.weekSettings,alts.defaultToEN||!1):this}redefaultToEN(alts={}){return this.clone(__spreadProps(__spreadValues({},alts),{defaultToEN:!0}))}redefaultToSystem(alts={}){return this.clone(__spreadProps(__spreadValues({},alts),{defaultToEN:!1}))}months(length,format=!1){return listStuff(this,length,months,(()=>{const intl=format?{month:length,day:"numeric"}:{month:length},formatStr=format?"format":"standalone";return this.monthsCache[formatStr][length]||(this.monthsCache[formatStr][length]=function(f){const ms=[];for(let i=1;i<=12;i++){const dt=DateTime.utc(2009,i,1);ms.push(f(dt))}return ms}((dt=>this.extract(dt,intl,"month")))),this.monthsCache[formatStr][length]}))}weekdays(length,format=!1){return listStuff(this,length,weekdays,(()=>{const intl=format?{weekday:length,year:"numeric",month:"long",day:"numeric"}:{weekday:length},formatStr=format?"format":"standalone";return this.weekdaysCache[formatStr][length]||(this.weekdaysCache[formatStr][length]=function(f){const ms=[];for(let i=1;i<=7;i++){const dt=DateTime.utc(2016,11,13+i);ms.push(f(dt))}return ms}((dt=>this.extract(dt,intl,"weekday")))),this.weekdaysCache[formatStr][length]}))}meridiems(){return listStuff(this,void 0,(()=>meridiems),(()=>{if(!this.meridiemCache){const intl={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[DateTime.utc(2016,11,13,9),DateTime.utc(2016,11,13,19)].map((dt=>this.extract(dt,intl,"dayperiod")))}return this.meridiemCache}))}eras(length){return listStuff(this,length,eras,(()=>{const intl={era:length};return this.eraCache[length]||(this.eraCache[length]=[DateTime.utc(-40,1,1),DateTime.utc(2017,1,1)].map((dt=>this.extract(dt,intl,"era")))),this.eraCache[length]}))}extract(dt,intlOpts,field){const matching=this.dtFormatter(dt,intlOpts).formatToParts().find((m=>m.type.toLowerCase()===field));return matching?matching.value:null}numberFormatter(opts={}){return new PolyNumberFormatter(this.intl,opts.forceSimple||this.fastNumbers,opts)}dtFormatter(dt,intlOpts={}){return new PolyDateFormatter(dt,this.intl,intlOpts)}relFormatter(opts={}){return new PolyRelFormatter(this.intl,this.isEnglish(),opts)}listFormatter(opts={}){return function(locString,opts={}){const key=JSON.stringify([locString,opts]);let dtf=intlLFCache[key];return dtf||(dtf=new Intl.ListFormat(locString,opts),intlLFCache[key]=dtf),dtf}(this.intl,opts)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:hasLocaleWeekInfo()?function(locString){let data=weekInfoCache[locString];if(!data){const locale=new Intl.Locale(locString);data="getWeekInfo"in locale?locale.getWeekInfo():locale.weekInfo,weekInfoCache[locString]=data}return data}(this.locale):fallbackWeekSettings}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(other){return this.locale===other.locale&&this.numberingSystem===other.numberingSystem&&this.outputCalendar===other.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let singleton=null;class FixedOffsetZone extends Zone{static get utcInstance(){return null===singleton&&(singleton=new FixedOffsetZone(0)),singleton}static instance(offset2){return 0===offset2?FixedOffsetZone.utcInstance:new FixedOffsetZone(offset2)}static parseSpecifier(s2){if(s2){const r=s2.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(r)return new FixedOffsetZone(signedOffset(r[1],r[2]))}return null}constructor(offset2){super(),this.fixed=offset2}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${formatOffset(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${formatOffset(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(ts,format){return formatOffset(this.fixed,format)}get isUniversal(){return!0}offset(){return this.fixed}equals(otherZone){return"fixed"===otherZone.type&&otherZone.fixed===this.fixed}get isValid(){return!0}}class InvalidZone extends Zone{constructor(zoneName){super(),this.zoneName=zoneName}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function normalizeZone(input,defaultZone2){if(isUndefined(input)||null===input)return defaultZone2;if(input instanceof Zone)return input;if("string"==typeof input){const lowered=input.toLowerCase();return"default"===lowered?defaultZone2:"local"===lowered||"system"===lowered?SystemZone.instance:"utc"===lowered||"gmt"===lowered?FixedOffsetZone.utcInstance:FixedOffsetZone.parseSpecifier(lowered)||IANAZone.create(input)}return isNumber(input)?FixedOffsetZone.instance(input):"object"==typeof input&&"offset"in input&&"function"==typeof input.offset?input:new InvalidZone(input)}const numberingSystems={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},numberingSystemsUTF16={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},hanidecChars=numberingSystems.hanidec.replace(/[\[|\]]/g,"").split("");let digitRegexCache={};function digitRegex({numberingSystem:numberingSystem},append=""){const ns=numberingSystem||"latn";return digitRegexCache[ns]||(digitRegexCache[ns]={}),digitRegexCache[ns][append]||(digitRegexCache[ns][append]=new RegExp(`${numberingSystems[ns]}${append}`)),digitRegexCache[ns][append]}let throwOnInvalid,now=()=>Date.now(),defaultZone="system",defaultLocale=null,defaultNumberingSystem=null,defaultOutputCalendar=null,twoDigitCutoffYear=60,defaultWeekSettings=null;class Settings{static get now(){return now}static set now(n2){now=n2}static set defaultZone(zone){defaultZone=zone}static get defaultZone(){return normalizeZone(defaultZone,SystemZone.instance)}static get defaultLocale(){return defaultLocale}static set defaultLocale(locale){defaultLocale=locale}static get defaultNumberingSystem(){return defaultNumberingSystem}static set defaultNumberingSystem(numberingSystem){defaultNumberingSystem=numberingSystem}static get defaultOutputCalendar(){return defaultOutputCalendar}static set defaultOutputCalendar(outputCalendar){defaultOutputCalendar=outputCalendar}static get defaultWeekSettings(){return defaultWeekSettings}static set defaultWeekSettings(weekSettings){defaultWeekSettings=validateWeekSettings(weekSettings)}static get twoDigitCutoffYear(){return twoDigitCutoffYear}static set twoDigitCutoffYear(cutoffYear){twoDigitCutoffYear=cutoffYear%100}static get throwOnInvalid(){return throwOnInvalid}static set throwOnInvalid(t){throwOnInvalid=t}static resetCaches(){Locale.resetCache(),IANAZone.resetCache(),DateTime.resetCache(),digitRegexCache={}}}class Invalid{constructor(reason,explanation){this.reason=reason,this.explanation=explanation}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const nonLeapLadder=[0,31,59,90,120,151,181,212,243,273,304,334],leapLadder=[0,31,60,91,121,152,182,213,244,274,305,335];function unitOutOfRange(unit,value){return new Invalid("unit out of range",`you specified ${value} (of type ${typeof value}) as a ${unit}, which is invalid`)}function dayOfWeek(year,month,day){const d=new Date(Date.UTC(year,month-1,day));year<100&&year>=0&&d.setUTCFullYear(d.getUTCFullYear()-1900);const js=d.getUTCDay();return 0===js?7:js}function computeOrdinal(year,month,day){return day+(isLeapYear(year)?leapLadder:nonLeapLadder)[month-1]}function uncomputeOrdinal(year,ordinal){const table=isLeapYear(year)?leapLadder:nonLeapLadder,month0=table.findIndex((i=>i<ordinal));return{month:month0+1,day:ordinal-table[month0]}}function isoWeekdayToLocal(isoWeekday,startOfWeek){return(isoWeekday-startOfWeek+7)%7+1}function gregorianToWeek(gregObj,minDaysInFirstWeek=4,startOfWeek=1){const{year:year,month:month,day:day}=gregObj,ordinal=computeOrdinal(year,month,day),weekday=isoWeekdayToLocal(dayOfWeek(year,month,day),startOfWeek);let weekYear,weekNumber=Math.floor((ordinal-weekday+14-minDaysInFirstWeek)/7);return weekNumber<1?(weekYear=year-1,weekNumber=weeksInWeekYear(weekYear,minDaysInFirstWeek,startOfWeek)):weekNumber>weeksInWeekYear(year,minDaysInFirstWeek,startOfWeek)?(weekYear=year+1,weekNumber=1):weekYear=year,__spreadValues({weekYear:weekYear,weekNumber:weekNumber,weekday:weekday},timeObject(gregObj))}function weekToGregorian(weekData,minDaysInFirstWeek=4,startOfWeek=1){const{weekYear:weekYear,weekNumber:weekNumber,weekday:weekday}=weekData,weekdayOfJan4=isoWeekdayToLocal(dayOfWeek(weekYear,1,minDaysInFirstWeek),startOfWeek),yearInDays=daysInYear(weekYear);let year,ordinal=7*weekNumber+weekday-weekdayOfJan4-7+minDaysInFirstWeek;ordinal<1?(year=weekYear-1,ordinal+=daysInYear(year)):ordinal>yearInDays?(year=weekYear+1,ordinal-=daysInYear(weekYear)):year=weekYear;const{month:month,day:day}=uncomputeOrdinal(year,ordinal);return __spreadValues({year:year,month:month,day:day},timeObject(weekData))}function gregorianToOrdinal(gregData){const{year:year,month:month,day:day}=gregData,ordinal=computeOrdinal(year,month,day);return __spreadValues({year:year,ordinal:ordinal},timeObject(gregData))}function ordinalToGregorian(ordinalData){const{year:year,ordinal:ordinal}=ordinalData,{month:month,day:day}=uncomputeOrdinal(year,ordinal);return __spreadValues({year:year,month:month,day:day},timeObject(ordinalData))}function usesLocalWeekValues(obj,loc){if(!isUndefined(obj.localWeekday)||!isUndefined(obj.localWeekNumber)||!isUndefined(obj.localWeekYear)){if(!isUndefined(obj.weekday)||!isUndefined(obj.weekNumber)||!isUndefined(obj.weekYear))throw new ConflictingSpecificationError("Cannot mix locale-based week fields with ISO-based week fields");return isUndefined(obj.localWeekday)||(obj.weekday=obj.localWeekday),isUndefined(obj.localWeekNumber)||(obj.weekNumber=obj.localWeekNumber),isUndefined(obj.localWeekYear)||(obj.weekYear=obj.localWeekYear),delete obj.localWeekday,delete obj.localWeekNumber,delete obj.localWeekYear,{minDaysInFirstWeek:loc.getMinDaysInFirstWeek(),startOfWeek:loc.getStartOfWeek()}}return{minDaysInFirstWeek:4,startOfWeek:1}}function hasInvalidGregorianData(obj){const validYear=isInteger(obj.year),validMonth=integerBetween(obj.month,1,12),validDay=integerBetween(obj.day,1,daysInMonth(obj.year,obj.month));return validYear?validMonth?!validDay&&unitOutOfRange("day",obj.day):unitOutOfRange("month",obj.month):unitOutOfRange("year",obj.year)}function hasInvalidTimeData(obj){const{hour:hour,minute:minute,second:second,millisecond:millisecond}=obj,validHour=integerBetween(hour,0,23)||24===hour&&0===minute&&0===second&&0===millisecond,validMinute=integerBetween(minute,0,59),validSecond=integerBetween(second,0,59),validMillisecond=integerBetween(millisecond,0,999);return validHour?validMinute?validSecond?!validMillisecond&&unitOutOfRange("millisecond",millisecond):unitOutOfRange("second",second):unitOutOfRange("minute",minute):unitOutOfRange("hour",hour)}function isUndefined(o){return void 0===o}function isNumber(o){return"number"==typeof o}function isInteger(o){return"number"==typeof o&&o%1==0}function hasRelative(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function hasLocaleWeekInfo(){try{return"undefined"!=typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(e){return!1}}function bestBy(arr,by,compare){if(0!==arr.length)return arr.reduce(((best,next2)=>{const pair=[by(next2),next2];return best&&compare(best[0],pair[0])===best[0]?best:pair}),null)[1]}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}function validateWeekSettings(settings){if(null==settings)return null;if("object"!=typeof settings)throw new InvalidArgumentError("Week settings must be an object");if(!integerBetween(settings.firstDay,1,7)||!integerBetween(settings.minimalDays,1,7)||!Array.isArray(settings.weekend)||settings.weekend.some((v=>!integerBetween(v,1,7))))throw new InvalidArgumentError("Invalid week settings");return{firstDay:settings.firstDay,minimalDays:settings.minimalDays,weekend:Array.from(settings.weekend)}}function integerBetween(thing,bottom,top){return isInteger(thing)&&thing>=bottom&&thing<=top}function padStart(input,n2=2){let padded;return padded=input<0?"-"+(""+-input).padStart(n2,"0"):(""+input).padStart(n2,"0"),padded}function parseInteger(string){return isUndefined(string)||null===string||""===string?void 0:parseInt(string,10)}function parseFloating(string){return isUndefined(string)||null===string||""===string?void 0:parseFloat(string)}function parseMillis(fraction){if(!isUndefined(fraction)&&null!==fraction&&""!==fraction){const f=1e3*parseFloat("0."+fraction);return Math.floor(f)}}function roundTo(number,digits,towardZero=!1){const factor=__pow(10,digits);return(towardZero?Math.trunc:Math.round)(number*factor)/factor}function isLeapYear(year){return year%4==0&&(year%100!=0||year%400==0)}function daysInYear(year){return isLeapYear(year)?366:365}function daysInMonth(year,month){const modMonth=(x=month-1)-(n2=12)*Math.floor(x/n2)+1;var x,n2;return 2===modMonth?isLeapYear(year+(month-modMonth)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][modMonth-1]}function objToLocalTS(obj){let d=Date.UTC(obj.year,obj.month-1,obj.day,obj.hour,obj.minute,obj.second,obj.millisecond);return obj.year<100&&obj.year>=0&&(d=new Date(d),d.setUTCFullYear(obj.year,obj.month-1,obj.day)),+d}function firstWeekOffset(year,minDaysInFirstWeek,startOfWeek){return-isoWeekdayToLocal(dayOfWeek(year,1,minDaysInFirstWeek),startOfWeek)+minDaysInFirstWeek-1}function weeksInWeekYear(weekYear,minDaysInFirstWeek=4,startOfWeek=1){const weekOffset=firstWeekOffset(weekYear,minDaysInFirstWeek,startOfWeek),weekOffsetNext=firstWeekOffset(weekYear+1,minDaysInFirstWeek,startOfWeek);return(daysInYear(weekYear)-weekOffset+weekOffsetNext)/7}function untruncateYear(year){return year>99?year:year>Settings.twoDigitCutoffYear?1900+year:2e3+year}function parseZoneInfo(ts,offsetFormat,locale,timeZone=null){const date2=new Date(ts),intlOpts={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};timeZone&&(intlOpts.timeZone=timeZone);const modified=__spreadValues({timeZoneName:offsetFormat},intlOpts),parsed=new Intl.DateTimeFormat(locale,modified).formatToParts(date2).find((m=>"timezonename"===m.type.toLowerCase()));return parsed?parsed.value:null}function signedOffset(offHourStr,offMinuteStr){let offHour=parseInt(offHourStr,10);Number.isNaN(offHour)&&(offHour=0);const offMin=parseInt(offMinuteStr,10)||0;return 60*offHour+(offHour<0||Object.is(offHour,-0)?-offMin:offMin)}function asNumber(value){const numericValue=Number(value);if("boolean"==typeof value||""===value||Number.isNaN(numericValue))throw new InvalidArgumentError(`Invalid unit value ${value}`);return numericValue}function normalizeObject(obj,normalizer){const normalized={};for(const u in obj)if(hasOwnProperty(obj,u)){const v=obj[u];if(null==v)continue;normalized[normalizer(u)]=asNumber(v)}return normalized}function formatOffset(offset2,format){const hours=Math.trunc(Math.abs(offset2/60)),minutes=Math.trunc(Math.abs(offset2%60)),sign=offset2>=0?"+":"-";switch(format){case"short":return`${sign}${padStart(hours,2)}:${padStart(minutes,2)}`;case"narrow":return`${sign}${hours}${minutes>0?`:${minutes}`:""}`;case"techie":return`${sign}${padStart(hours,2)}${padStart(minutes,2)}`;default:throw new RangeError(`Value format ${format} is out of range for property format`)}}function timeObject(obj){return function(obj,keys){return keys.reduce(((a,k)=>(a[k]=obj[k],a)),{})}(obj,["hour","minute","second","millisecond"])}const monthsLong=["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],monthsNarrow=["J","F","M","A","M","J","J","A","S","O","N","D"];function months(length){switch(length){case"narrow":return[...monthsNarrow];case"short":return[...monthsShort];case"long":return[...monthsLong];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const weekdaysLong=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],weekdaysShort=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],weekdaysNarrow=["M","T","W","T","F","S","S"];function weekdays(length){switch(length){case"narrow":return[...weekdaysNarrow];case"short":return[...weekdaysShort];case"long":return[...weekdaysLong];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const meridiems=["AM","PM"],erasLong=["Before Christ","Anno Domini"],erasShort=["BC","AD"],erasNarrow=["B","A"];function eras(length){switch(length){case"narrow":return[...erasNarrow];case"short":return[...erasShort];case"long":return[...erasLong];default:return null}}function stringifyTokens(splits,tokenToString){let s2="";for(const token of splits)token.literal?s2+=token.val:s2+=tokenToString(token.val);return s2}const macroTokenToFormatOpts={D:DATE_SHORT,DD:DATE_MED,DDD:DATE_FULL,DDDD:DATE_HUGE,t:TIME_SIMPLE,tt:TIME_WITH_SECONDS,ttt:TIME_WITH_SHORT_OFFSET,tttt:TIME_WITH_LONG_OFFSET,T:TIME_24_SIMPLE,TT:TIME_24_WITH_SECONDS,TTT:TIME_24_WITH_SHORT_OFFSET,TTTT:TIME_24_WITH_LONG_OFFSET,f:DATETIME_SHORT,ff:DATETIME_MED,fff:DATETIME_FULL,ffff:DATETIME_HUGE,F:DATETIME_SHORT_WITH_SECONDS,FF:DATETIME_MED_WITH_SECONDS,FFF:DATETIME_FULL_WITH_SECONDS,FFFF:DATETIME_HUGE_WITH_SECONDS};class Formatter{static create(locale,opts={}){return new Formatter(locale,opts)}static parseFormat(fmt){let current=null,currentFull="",bracketed=!1;const splits=[];for(let i=0;i<fmt.length;i++){const c=fmt.charAt(i);"'"===c?(currentFull.length>0&&splits.push({literal:bracketed||/^\s+$/.test(currentFull),val:currentFull}),current=null,currentFull="",bracketed=!bracketed):bracketed||c===current?currentFull+=c:(currentFull.length>0&&splits.push({literal:/^\s+$/.test(currentFull),val:currentFull}),currentFull=c,current=c)}return currentFull.length>0&&splits.push({literal:bracketed||/^\s+$/.test(currentFull),val:currentFull}),splits}static macroTokenToFormatOpts(token){return macroTokenToFormatOpts[token]}constructor(locale,formatOpts){this.opts=formatOpts,this.loc=locale,this.systemLoc=null}formatWithSystemDefault(dt,opts){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(dt,__spreadValues(__spreadValues({},this.opts),opts)).format()}dtFormatter(dt,opts={}){return this.loc.dtFormatter(dt,__spreadValues(__spreadValues({},this.opts),opts))}formatDateTime(dt,opts){return this.dtFormatter(dt,opts).format()}formatDateTimeParts(dt,opts){return this.dtFormatter(dt,opts).formatToParts()}formatInterval(interval,opts){return this.dtFormatter(interval.start,opts).dtf.formatRange(interval.start.toJSDate(),interval.end.toJSDate())}resolvedOptions(dt,opts){return this.dtFormatter(dt,opts).resolvedOptions()}num(n2,p=0){if(this.opts.forceSimple)return padStart(n2,p);const opts=__spreadValues({},this.opts);return p>0&&(opts.padTo=p),this.loc.numberFormatter(opts).format(n2)}formatDateTimeFromString(dt,fmt){const knownEnglish="en"===this.loc.listingMode(),useDateTimeFormatter=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,string=(opts,extract)=>this.loc.extract(dt,opts,extract),formatOffset2=opts=>dt.isOffsetFixed&&0===dt.offset&&opts.allowZ?"Z":dt.isValid?dt.zone.formatOffset(dt.ts,opts.format):"",meridiem=()=>knownEnglish?function(dt){return meridiems[dt.hour<12?0:1]}(dt):string({hour:"numeric",hourCycle:"h12"},"dayperiod"),month=(length,standalone)=>knownEnglish?function(dt,length){return months(length)[dt.month-1]}(dt,length):string(standalone?{month:length}:{month:length,day:"numeric"},"month"),weekday=(length,standalone)=>knownEnglish?function(dt,length){return weekdays(length)[dt.weekday-1]}(dt,length):string(standalone?{weekday:length}:{weekday:length,month:"long",day:"numeric"},"weekday"),maybeMacro=token=>{const formatOpts=Formatter.macroTokenToFormatOpts(token);return formatOpts?this.formatWithSystemDefault(dt,formatOpts):token},era=length=>knownEnglish?function(dt,length){return eras(length)[dt.year<0?0:1]}(dt,length):string({era:length},"era");return stringifyTokens(Formatter.parseFormat(fmt),(token=>{switch(token){case"S":return this.num(dt.millisecond);case"u":case"SSS":return this.num(dt.millisecond,3);case"s":return this.num(dt.second);case"ss":return this.num(dt.second,2);case"uu":return this.num(Math.floor(dt.millisecond/10),2);case"uuu":return this.num(Math.floor(dt.millisecond/100));case"m":return this.num(dt.minute);case"mm":return this.num(dt.minute,2);case"h":return this.num(dt.hour%12==0?12:dt.hour%12);case"hh":return this.num(dt.hour%12==0?12:dt.hour%12,2);case"H":return this.num(dt.hour);case"HH":return this.num(dt.hour,2);case"Z":return formatOffset2({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return formatOffset2({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return formatOffset2({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return dt.zone.offsetName(dt.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return dt.zone.offsetName(dt.ts,{format:"long",locale:this.loc.locale});case"z":return dt.zoneName;case"a":return meridiem();case"d":return useDateTimeFormatter?string({day:"numeric"},"day"):this.num(dt.day);case"dd":return useDateTimeFormatter?string({day:"2-digit"},"day"):this.num(dt.day,2);case"c":case"E":return this.num(dt.weekday);case"ccc":return weekday("short",!0);case"cccc":return weekday("long",!0);case"ccccc":return weekday("narrow",!0);case"EEE":return weekday("short",!1);case"EEEE":return weekday("long",!1);case"EEEEE":return weekday("narrow",!1);case"L":return useDateTimeFormatter?string({month:"numeric",day:"numeric"},"month"):this.num(dt.month);case"LL":return useDateTimeFormatter?string({month:"2-digit",day:"numeric"},"month"):this.num(dt.month,2);case"LLL":return month("short",!0);case"LLLL":return month("long",!0);case"LLLLL":return month("narrow",!0);case"M":return useDateTimeFormatter?string({month:"numeric"},"month"):this.num(dt.month);case"MM":return useDateTimeFormatter?string({month:"2-digit"},"month"):this.num(dt.month,2);case"MMM":return month("short",!1);case"MMMM":return month("long",!1);case"MMMMM":return month("narrow",!1);case"y":return useDateTimeFormatter?string({year:"numeric"},"year"):this.num(dt.year);case"yy":return useDateTimeFormatter?string({year:"2-digit"},"year"):this.num(dt.year.toString().slice(-2),2);case"yyyy":return useDateTimeFormatter?string({year:"numeric"},"year"):this.num(dt.year,4);case"yyyyyy":return useDateTimeFormatter?string({year:"numeric"},"year"):this.num(dt.year,6);case"G":return era("short");case"GG":return era("long");case"GGGGG":return era("narrow");case"kk":return this.num(dt.weekYear.toString().slice(-2),2);case"kkkk":return this.num(dt.weekYear,4);case"W":return this.num(dt.weekNumber);case"WW":return this.num(dt.weekNumber,2);case"n":return this.num(dt.localWeekNumber);case"nn":return this.num(dt.localWeekNumber,2);case"ii":return this.num(dt.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(dt.localWeekYear,4);case"o":return this.num(dt.ordinal);case"ooo":return this.num(dt.ordinal,3);case"q":return this.num(dt.quarter);case"qq":return this.num(dt.quarter,2);case"X":return this.num(Math.floor(dt.ts/1e3));case"x":return this.num(dt.ts);default:return maybeMacro(token)}}))}formatDurationFromString(dur,fmt){const tokenToField=token=>{switch(token[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},tokens=Formatter.parseFormat(fmt),realTokens=tokens.reduce(((found,{literal:literal,val:val})=>literal?found:found.concat(val)),[]);return stringifyTokens(tokens,(lildur=>token=>{const mapped=tokenToField(token);return mapped?this.num(lildur.get(mapped),token.length):token})(dur.shiftTo(...realTokens.map(tokenToField).filter((t=>t)))))}}const ianaRegex=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function combineRegexes(...regexes){const full=regexes.reduce(((f,r)=>f+r.source),"");return RegExp(`^${full}$`)}function combineExtractors(...extractors){return m=>extractors.reduce((([mergedVals,mergedZone,cursor],ex)=>{const[val,zone,next2]=ex(m,cursor);return[__spreadValues(__spreadValues({},mergedVals),val),zone||mergedZone,next2]}),[{},null,1]).slice(0,2)}function parse(s2,...patterns){if(null==s2)return[null,null];for(const[regex,extractor]of patterns){const m=regex.exec(s2);if(m)return extractor(m)}return[null,null]}function simpleParse(...keys){return(match2,cursor)=>{const ret={};let i;for(i=0;i<keys.length;i++)ret[keys[i]]=parseInteger(match2[cursor+i]);return[ret,null,cursor+i]}}const offsetRegex=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,isoTimeBaseRegex=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,isoTimeRegex=RegExp(`${isoTimeBaseRegex.source}${`(?:${offsetRegex.source}?(?:\\[(${ianaRegex.source})\\])?)?`}`),isoTimeExtensionRegex=RegExp(`(?:T${isoTimeRegex.source})?`),extractISOWeekData=simpleParse("weekYear","weekNumber","weekDay"),extractISOOrdinalData=simpleParse("year","ordinal"),sqlTimeRegex=RegExp(`${isoTimeBaseRegex.source} ?(?:${offsetRegex.source}|(${ianaRegex.source}))?`),sqlTimeExtensionRegex=RegExp(`(?: ${sqlTimeRegex.source})?`);function int(match2,pos,fallback){const m=match2[pos];return isUndefined(m)?fallback:parseInteger(m)}function extractISOTime(match2,cursor){return[{hours:int(match2,cursor,0),minutes:int(match2,cursor+1,0),seconds:int(match2,cursor+2,0),milliseconds:parseMillis(match2[cursor+3])},null,cursor+4]}function extractISOOffset(match2,cursor){const local=!match2[cursor]&&!match2[cursor+1],fullOffset=signedOffset(match2[cursor+1],match2[cursor+2]);return[{},local?null:FixedOffsetZone.instance(fullOffset),cursor+3]}function extractIANAZone(match2,cursor){return[{},match2[cursor]?IANAZone.create(match2[cursor]):null,cursor+1]}const isoTimeOnly=RegExp(`^T?${isoTimeBaseRegex.source}$`),isoDuration=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function extractISODuration(match2){const[s2,yearStr,monthStr,weekStr,dayStr,hourStr,minuteStr,secondStr,millisecondsStr]=match2,hasNegativePrefix="-"===s2[0],negativeSeconds=secondStr&&"-"===secondStr[0],maybeNegate=(num,force=!1)=>void 0!==num&&(force||num&&hasNegativePrefix)?-num:num;return[{years:maybeNegate(parseFloating(yearStr)),months:maybeNegate(parseFloating(monthStr)),weeks:maybeNegate(parseFloating(weekStr)),days:maybeNegate(parseFloating(dayStr)),hours:maybeNegate(parseFloating(hourStr)),minutes:maybeNegate(parseFloating(minuteStr)),seconds:maybeNegate(parseFloating(secondStr),"-0"===secondStr),milliseconds:maybeNegate(parseMillis(millisecondsStr),negativeSeconds)}]}const obsOffsets={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function fromStrings(weekdayStr,yearStr,monthStr,dayStr,hourStr,minuteStr,secondStr){const result={year:2===yearStr.length?untruncateYear(parseInteger(yearStr)):parseInteger(yearStr),month:monthsShort.indexOf(monthStr)+1,day:parseInteger(dayStr),hour:parseInteger(hourStr),minute:parseInteger(minuteStr)};return secondStr&&(result.second=parseInteger(secondStr)),weekdayStr&&(result.weekday=weekdayStr.length>3?weekdaysLong.indexOf(weekdayStr)+1:weekdaysShort.indexOf(weekdayStr)+1),result}const rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function extractRFC2822(match2){const[,weekdayStr,dayStr,monthStr,yearStr,hourStr,minuteStr,secondStr,obsOffset,milOffset,offHourStr,offMinuteStr]=match2,result=fromStrings(weekdayStr,yearStr,monthStr,dayStr,hourStr,minuteStr,secondStr);let offset2;return offset2=obsOffset?obsOffsets[obsOffset]:milOffset?0:signedOffset(offHourStr,offMinuteStr),[result,new FixedOffsetZone(offset2)]}const rfc1123=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,rfc850=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,ascii=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function extractRFC1123Or850(match2){const[,weekdayStr,dayStr,monthStr,yearStr,hourStr,minuteStr,secondStr]=match2;return[fromStrings(weekdayStr,yearStr,monthStr,dayStr,hourStr,minuteStr,secondStr),FixedOffsetZone.utcInstance]}function extractASCII(match2){const[,weekdayStr,monthStr,dayStr,hourStr,minuteStr,secondStr,yearStr]=match2;return[fromStrings(weekdayStr,yearStr,monthStr,dayStr,hourStr,minuteStr,secondStr),FixedOffsetZone.utcInstance]}const isoYmdWithTimeExtensionRegex=combineRegexes(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,isoTimeExtensionRegex),isoWeekWithTimeExtensionRegex=combineRegexes(/(\d{4})-?W(\d\d)(?:-?(\d))?/,isoTimeExtensionRegex),isoOrdinalWithTimeExtensionRegex=combineRegexes(/(\d{4})-?(\d{3})/,isoTimeExtensionRegex),isoTimeCombinedRegex=combineRegexes(isoTimeRegex),extractISOYmdTimeAndOffset=combineExtractors((function(match2,cursor){return[{year:int(match2,cursor),month:int(match2,cursor+1,1),day:int(match2,cursor+2,1)},null,cursor+3]}),extractISOTime,extractISOOffset,extractIANAZone),extractISOWeekTimeAndOffset=combineExtractors(extractISOWeekData,extractISOTime,extractISOOffset,extractIANAZone),extractISOOrdinalDateAndTime=combineExtractors(extractISOOrdinalData,extractISOTime,extractISOOffset,extractIANAZone),extractISOTimeAndOffset=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);const extractISOTimeOnly=combineExtractors(extractISOTime);const sqlYmdWithTimeExtensionRegex=combineRegexes(/(\d{4})-(\d\d)-(\d\d)/,sqlTimeExtensionRegex),sqlTimeCombinedRegex=combineRegexes(sqlTimeRegex),extractISOTimeOffsetAndIANAZone=combineExtractors(extractISOTime,extractISOOffset,extractIANAZone);const lowOrderMatrix={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},casualMatrix=__spreadValues({years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6}},lowOrderMatrix),accurateMatrix=__spreadValues({years:{quarters:4,months:12,weeks:52.1775,days:365.2425,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:30.436875/7,days:30.436875,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3}},lowOrderMatrix),orderedUnits$1=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],reverseUnits=orderedUnits$1.slice(0).reverse();function clone$1(dur,alts,clear=!1){const conf={values:clear?alts.values:__spreadValues(__spreadValues({},dur.values),alts.values||{}),loc:dur.loc.clone(alts.loc),conversionAccuracy:alts.conversionAccuracy||dur.conversionAccuracy,matrix:alts.matrix||dur.matrix};return new Duration(conf)}function durationToMillis(matrix,vals){var _vals$milliseconds;let sum=null!=(_vals$milliseconds=vals.milliseconds)?_vals$milliseconds:0;for(const unit of reverseUnits.slice(1))vals[unit]&&(sum+=vals[unit]*matrix[unit].milliseconds);return sum}function normalizeValues(matrix,vals){const factor=durationToMillis(matrix,vals)<0?-1:1;orderedUnits$1.reduceRight(((previous,current)=>{if(isUndefined(vals[current]))return previous;if(previous){const previousVal=vals[previous]*factor,conv=matrix[current][previous],rollUp=Math.floor(previousVal/conv);vals[current]+=rollUp*factor,vals[previous]-=rollUp*conv*factor}return current}),null),orderedUnits$1.reduce(((previous,current)=>{if(isUndefined(vals[current]))return previous;if(previous){const fraction=vals[previous]%1;vals[previous]-=fraction,vals[current]+=fraction*matrix[previous][current]}return current}),null)}class Duration{constructor(config){const accurate="longterm"===config.conversionAccuracy||!1;let matrix=accurate?accurateMatrix:casualMatrix;config.matrix&&(matrix=config.matrix),this.values=config.values,this.loc=config.loc||Locale.create(),this.conversionAccuracy=accurate?"longterm":"casual",this.invalid=config.invalid||null,this.matrix=matrix,this.isLuxonDuration=!0}static fromMillis(count,opts){return Duration.fromObject({milliseconds:count},opts)}static fromObject(obj,opts={}){if(null==obj||"object"!=typeof obj)throw new InvalidArgumentError("Duration.fromObject: argument expected to be an object, got "+(null===obj?"null":typeof obj));return new Duration({values:normalizeObject(obj,Duration.normalizeUnit),loc:Locale.fromObject(opts),conversionAccuracy:opts.conversionAccuracy,matrix:opts.matrix})}static fromDurationLike(durationLike){if(isNumber(durationLike))return Duration.fromMillis(durationLike);if(Duration.isDuration(durationLike))return durationLike;if("object"==typeof durationLike)return Duration.fromObject(durationLike);throw new InvalidArgumentError(`Unknown duration argument ${durationLike} of type ${typeof durationLike}`)}static fromISO(text,opts){const[parsed]=parse(text,[isoDuration,extractISODuration]);return parsed?Duration.fromObject(parsed,opts):Duration.invalid("unparsable",`the input "${text}" can't be parsed as ISO 8601`)}static fromISOTime(text,opts){const[parsed]=parse(text,[isoTimeOnly,extractISOTimeOnly]);return parsed?Duration.fromObject(parsed,opts):Duration.invalid("unparsable",`the input "${text}" can't be parsed as ISO 8601`)}static invalid(reason,explanation=null){if(!reason)throw new InvalidArgumentError("need to specify a reason the Duration is invalid");const invalid=reason instanceof Invalid?reason:new Invalid(reason,explanation);if(Settings.throwOnInvalid)throw new InvalidDurationError(invalid);return new Duration({invalid:invalid})}static normalizeUnit(unit){const normalized={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[unit?unit.toLowerCase():unit];if(!normalized)throw new InvalidUnitError(unit);return normalized}static isDuration(o){return o&&o.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(fmt,opts={}){const fmtOpts=__spreadProps(__spreadValues({},opts),{floor:!1!==opts.round&&!1!==opts.floor});return this.isValid?Formatter.create(this.loc,fmtOpts).formatDurationFromString(this,fmt):"Invalid Duration"}toHuman(opts={}){if(!this.isValid)return"Invalid Duration";const l2=orderedUnits$1.map((unit=>{const val=this.values[unit];return isUndefined(val)?null:this.loc.numberFormatter(__spreadProps(__spreadValues({style:"unit",unitDisplay:"long"},opts),{unit:unit.slice(0,-1)})).format(val)})).filter((n2=>n2));return this.loc.listFormatter(__spreadValues({type:"conjunction",style:opts.listStyle||"narrow"},opts)).format(l2)}toObject(){return this.isValid?__spreadValues({},this.values):{}}toISO(){if(!this.isValid)return null;let s2="P";return 0!==this.years&&(s2+=this.years+"Y"),0===this.months&&0===this.quarters||(s2+=this.months+3*this.quarters+"M"),0!==this.weeks&&(s2+=this.weeks+"W"),0!==this.days&&(s2+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(s2+="T"),0!==this.hours&&(s2+=this.hours+"H"),0!==this.minutes&&(s2+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(s2+=roundTo(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===s2&&(s2+="T0S"),s2}toISOTime(opts={}){if(!this.isValid)return null;const millis=this.toMillis();if(millis<0||millis>=864e5)return null;opts=__spreadProps(__spreadValues({suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended"},opts),{includeOffset:!1});return DateTime.fromMillis(millis,{zone:"UTC"}).toISOTime(opts)}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?durationToMillis(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(duration){if(!this.isValid)return this;const dur=Duration.fromDurationLike(duration),result={};for(const k of orderedUnits$1)(hasOwnProperty(dur.values,k)||hasOwnProperty(this.values,k))&&(result[k]=dur.get(k)+this.get(k));return clone$1(this,{values:result},!0)}minus(duration){if(!this.isValid)return this;const dur=Duration.fromDurationLike(duration);return this.plus(dur.negate())}mapUnits(fn){if(!this.isValid)return this;const result={};for(const k of Object.keys(this.values))result[k]=asNumber(fn(this.values[k],k));return clone$1(this,{values:result},!0)}get(unit){return this[Duration.normalizeUnit(unit)]}set(values){if(!this.isValid)return this;return clone$1(this,{values:__spreadValues(__spreadValues({},this.values),normalizeObject(values,Duration.normalizeUnit))})}reconfigure({locale:locale,numberingSystem:numberingSystem,conversionAccuracy:conversionAccuracy,matrix:matrix}={}){return clone$1(this,{loc:this.loc.clone({locale:locale,numberingSystem:numberingSystem}),matrix:matrix,conversionAccuracy:conversionAccuracy})}as(unit){return this.isValid?this.shiftTo(unit).get(unit):NaN}normalize(){if(!this.isValid)return this;const vals=this.toObject();return normalizeValues(this.matrix,vals),clone$1(this,{values:vals},!0)}rescale(){if(!this.isValid)return this;return clone$1(this,{values:function(vals){const newVals={};for(const[key,value]of Object.entries(vals))0!==value&&(newVals[key]=value);return newVals}(this.normalize().shiftToAll().toObject())},!0)}shiftTo(...units){if(!this.isValid)return this;if(0===units.length)return this;units=units.map((u=>Duration.normalizeUnit(u)));const built={},accumulated={},vals=this.toObject();let lastUnit;for(const k of orderedUnits$1)if(units.indexOf(k)>=0){lastUnit=k;let own=0;for(const ak in accumulated)own+=this.matrix[ak][k]*accumulated[ak],accumulated[ak]=0;isNumber(vals[k])&&(own+=vals[k]);const i=Math.trunc(own);built[k]=i,accumulated[k]=(1e3*own-1e3*i)/1e3}else isNumber(vals[k])&&(accumulated[k]=vals[k]);for(const key in accumulated)0!==accumulated[key]&&(built[lastUnit]+=key===lastUnit?accumulated[key]:accumulated[key]/this.matrix[lastUnit][key]);return normalizeValues(this.matrix,built),clone$1(this,{values:built},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const negated={};for(const k of Object.keys(this.values))negated[k]=0===this.values[k]?0:-this.values[k];return clone$1(this,{values:negated},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(other){if(!this.isValid||!other.isValid)return!1;if(!this.loc.equals(other.loc))return!1;for(const u of orderedUnits$1)if(v1=this.values[u],v2=other.values[u],!(void 0===v1||0===v1?void 0===v2||0===v2:v1===v2))return!1;var v1,v2;return!0}}const INVALID$1="Invalid Interval";class Interval{constructor(config){this.s=config.start,this.e=config.end,this.invalid=config.invalid||null,this.isLuxonInterval=!0}static invalid(reason,explanation=null){if(!reason)throw new InvalidArgumentError("need to specify a reason the Interval is invalid");const invalid=reason instanceof Invalid?reason:new Invalid(reason,explanation);if(Settings.throwOnInvalid)throw new InvalidIntervalError(invalid);return new Interval({invalid:invalid})}static fromDateTimes(start,end){const builtStart=friendlyDateTime(start),builtEnd=friendlyDateTime(end),validateError=function(start,end){return start&&start.isValid?end&&end.isValid?end<start?Interval.invalid("end before start",`The end of an interval must be after its start, but you had start=${start.toISO()} and end=${end.toISO()}`):null:Interval.invalid("missing or invalid end"):Interval.invalid("missing or invalid start")}(builtStart,builtEnd);return null==validateError?new Interval({start:builtStart,end:builtEnd}):validateError}static after(start,duration){const dur=Duration.fromDurationLike(duration),dt=friendlyDateTime(start);return Interval.fromDateTimes(dt,dt.plus(dur))}static before(end,duration){const dur=Duration.fromDurationLike(duration),dt=friendlyDateTime(end);return Interval.fromDateTimes(dt.minus(dur),dt)}static fromISO(text,opts){const[s2,e]=(text||"").split("/",2);if(s2&&e){let start,startIsValid,end,endIsValid;try{start=DateTime.fromISO(s2,opts),startIsValid=start.isValid}catch(e2){startIsValid=!1}try{end=DateTime.fromISO(e,opts),endIsValid=end.isValid}catch(e2){endIsValid=!1}if(startIsValid&&endIsValid)return Interval.fromDateTimes(start,end);if(startIsValid){const dur=Duration.fromISO(e,opts);if(dur.isValid)return Interval.after(start,dur)}else if(endIsValid){const dur=Duration.fromISO(s2,opts);if(dur.isValid)return Interval.before(end,dur)}}return Interval.invalid("unparsable",`the input "${text}" can't be parsed as ISO 8601`)}static isInterval(o){return o&&o.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(unit="milliseconds"){return this.isValid?this.toDuration(unit).get(unit):NaN}count(unit="milliseconds",opts){if(!this.isValid)return NaN;const start=this.start.startOf(unit,opts);let end;return end=null!=opts&&opts.useLocaleWeeks?this.end.reconfigure({locale:start.locale}):this.end,end=end.startOf(unit,opts),Math.floor(end.diff(start,unit).get(unit))+(end.valueOf()!==this.end.valueOf())}hasSame(unit){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,unit))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(dateTime){return!!this.isValid&&this.s>dateTime}isBefore(dateTime){return!!this.isValid&&this.e<=dateTime}contains(dateTime){return!!this.isValid&&(this.s<=dateTime&&this.e>dateTime)}set({start:start,end:end}={}){return this.isValid?Interval.fromDateTimes(start||this.s,end||this.e):this}splitAt(...dateTimes){if(!this.isValid)return[];const sorted=dateTimes.map(friendlyDateTime).filter((d=>this.contains(d))).sort(((a,b)=>a.toMillis()-b.toMillis())),results=[];let{s:s2}=this,i=0;for(;s2<this.e;){const added=sorted[i]||this.e,next2=+added>+this.e?this.e:added;results.push(Interval.fromDateTimes(s2,next2)),s2=next2,i+=1}return results}splitBy(duration){const dur=Duration.fromDurationLike(duration);if(!this.isValid||!dur.isValid||0===dur.as("milliseconds"))return[];let next2,{s:s2}=this,idx=1;const results=[];for(;s2<this.e;){const added=this.start.plus(dur.mapUnits((x=>x*idx)));next2=+added>+this.e?this.e:added,results.push(Interval.fromDateTimes(s2,next2)),s2=next2,idx+=1}return results}divideEqually(numberOfParts){return this.isValid?this.splitBy(this.length()/numberOfParts).slice(0,numberOfParts):[]}overlaps(other){return this.e>other.s&&this.s<other.e}abutsStart(other){return!!this.isValid&&+this.e==+other.s}abutsEnd(other){return!!this.isValid&&+other.e==+this.s}engulfs(other){return!!this.isValid&&(this.s<=other.s&&this.e>=other.e)}equals(other){return!(!this.isValid||!other.isValid)&&(this.s.equals(other.s)&&this.e.equals(other.e))}intersection(other){if(!this.isValid)return this;const s2=this.s>other.s?this.s:other.s,e=this.e<other.e?this.e:other.e;return s2>=e?null:Interval.fromDateTimes(s2,e)}union(other){if(!this.isValid)return this;const s2=this.s<other.s?this.s:other.s,e=this.e>other.e?this.e:other.e;return Interval.fromDateTimes(s2,e)}static merge(intervals){const[found,final]=intervals.sort(((a,b)=>a.s-b.s)).reduce((([sofar,current],item)=>current?current.overlaps(item)||current.abutsStart(item)?[sofar,current.union(item)]:[sofar.concat([current]),item]:[sofar,item]),[[],null]);return final&&found.push(final),found}static xor(intervals){let start=null,currentCount=0;const results=[],ends=intervals.map((i=>[{time:i.s,type:"s"},{time:i.e,type:"e"}])),arr=Array.prototype.concat(...ends).sort(((a,b)=>a.time-b.time));for(const i of arr)currentCount+="s"===i.type?1:-1,1===currentCount?start=i.time:(start&&+start!=+i.time&&results.push(Interval.fromDateTimes(start,i.time)),start=null);return Interval.merge(results)}difference(...intervals){return Interval.xor([this].concat(intervals)).map((i=>this.intersection(i))).filter((i=>i&&!i.isEmpty()))}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:INVALID$1}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(formatOpts=DATE_SHORT,opts={}){return this.isValid?Formatter.create(this.s.loc.clone(opts),formatOpts).formatInterval(this):INVALID$1}toISO(opts){return this.isValid?`${this.s.toISO(opts)}/${this.e.toISO(opts)}`:INVALID$1}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:INVALID$1}toISOTime(opts){return this.isValid?`${this.s.toISOTime(opts)}/${this.e.toISOTime(opts)}`:INVALID$1}toFormat(dateFormat2,{separator:separator=" – "}={}){return this.isValid?`${this.s.toFormat(dateFormat2)}${separator}${this.e.toFormat(dateFormat2)}`:INVALID$1}toDuration(unit,opts){return this.isValid?this.e.diff(this.s,unit,opts):Duration.invalid(this.invalidReason)}mapEndpoints(mapFn){return Interval.fromDateTimes(mapFn(this.s),mapFn(this.e))}}class Info{static hasDST(zone=Settings.defaultZone){const proto=DateTime.now().setZone(zone).set({month:12});return!zone.isUniversal&&proto.offset!==proto.set({month:6}).offset}static isValidIANAZone(zone){return IANAZone.isValidZone(zone)}static normalizeZone(input){return normalizeZone(input,Settings.defaultZone)}static getStartOfWeek({locale:locale=null,locObj:locObj=null}={}){return(locObj||Locale.create(locale)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:locale=null,locObj:locObj=null}={}){return(locObj||Locale.create(locale)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:locale=null,locObj:locObj=null}={}){return(locObj||Locale.create(locale)).getWeekendDays().slice()}static months(length="long",{locale:locale=null,numberingSystem:numberingSystem=null,locObj:locObj=null,outputCalendar:outputCalendar="gregory"}={}){return(locObj||Locale.create(locale,numberingSystem,outputCalendar)).months(length)}static monthsFormat(length="long",{locale:locale=null,numberingSystem:numberingSystem=null,locObj:locObj=null,outputCalendar:outputCalendar="gregory"}={}){return(locObj||Locale.create(locale,numberingSystem,outputCalendar)).months(length,!0)}static weekdays(length="long",{locale:locale=null,numberingSystem:numberingSystem=null,locObj:locObj=null}={}){return(locObj||Locale.create(locale,numberingSystem,null)).weekdays(length)}static weekdaysFormat(length="long",{locale:locale=null,numberingSystem:numberingSystem=null,locObj:locObj=null}={}){return(locObj||Locale.create(locale,numberingSystem,null)).weekdays(length,!0)}static meridiems({locale:locale=null}={}){return Locale.create(locale).meridiems()}static eras(length="short",{locale:locale=null}={}){return Locale.create(locale,null,"gregory").eras(length)}static features(){return{relative:hasRelative(),localeWeek:hasLocaleWeekInfo()}}}function dayDiff(earlier,later){const utcDayStart=dt=>dt.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),ms=utcDayStart(later)-utcDayStart(earlier);return Math.floor(Duration.fromMillis(ms).as("days"))}function diff(earlier,later,units,opts){let[cursor,results,highWater,lowestOrder]=function(cursor,later,units){const differs=[["years",(a,b)=>b.year-a.year],["quarters",(a,b)=>b.quarter-a.quarter+4*(b.year-a.year)],["months",(a,b)=>b.month-a.month+12*(b.year-a.year)],["weeks",(a,b)=>{const days=dayDiff(a,b);return(days-days%7)/7}],["days",dayDiff]],results={},earlier=cursor;let lowestOrder,highWater;for(const[unit,differ]of differs)units.indexOf(unit)>=0&&(lowestOrder=unit,results[unit]=differ(cursor,later),highWater=earlier.plus(results),highWater>later?(results[unit]--,(cursor=earlier.plus(results))>later&&(highWater=cursor,results[unit]--,cursor=earlier.plus(results))):cursor=highWater);return[cursor,results,highWater,lowestOrder]}(earlier,later,units);const remainingMillis=later-cursor,lowerOrderUnits=units.filter((u=>["hours","minutes","seconds","milliseconds"].indexOf(u)>=0));0===lowerOrderUnits.length&&(highWater<later&&(highWater=cursor.plus({[lowestOrder]:1})),highWater!==cursor&&(results[lowestOrder]=(results[lowestOrder]||0)+remainingMillis/(highWater-cursor)));const duration=Duration.fromObject(results,opts);return lowerOrderUnits.length>0?Duration.fromMillis(remainingMillis,opts).shiftTo(...lowerOrderUnits).plus(duration):duration}function intUnit(regex,post=i=>i){return{regex:regex,deser:([s2])=>post(function(str){let value=parseInt(str,10);if(isNaN(value)){value="";for(let i=0;i<str.length;i++){const code=str.charCodeAt(i);if(-1!==str[i].search(numberingSystems.hanidec))value+=hanidecChars.indexOf(str[i]);else for(const key in numberingSystemsUTF16){const[min,max]=numberingSystemsUTF16[key];code>=min&&code<=max&&(value+=code-min)}}return parseInt(value,10)}return value}(s2))}}const spaceOrNBSP=`[ ${String.fromCharCode(160)}]`,spaceOrNBSPRegExp=new RegExp(spaceOrNBSP,"g");function fixListRegex(s2){return s2.replace(/\./g,"\\.?").replace(spaceOrNBSPRegExp,spaceOrNBSP)}function stripInsensitivities(s2){return s2.replace(/\./g,"").replace(spaceOrNBSPRegExp," ").toLowerCase()}function oneOf(strings,startIndex){return null===strings?null:{regex:RegExp(strings.map(fixListRegex).join("|")),deser:([s2])=>strings.findIndex((i=>stripInsensitivities(s2)===stripInsensitivities(i)))+startIndex}}function offset(regex,groups){return{regex:regex,deser:([,h,m])=>signedOffset(h,m),groups:groups}}function simple(regex){return{regex:regex,deser:([s2])=>s2}}const partTypeStyleToTokenVal={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let dummyDateTimeCache=null;function expandMacroTokens(tokens,locale){return Array.prototype.concat(...tokens.map((t=>function(token,locale){if(token.literal)return token;const tokens=formatOptsToTokens(Formatter.macroTokenToFormatOpts(token.val),locale);return null==tokens||tokens.includes(void 0)?token:tokens}(t,locale))))}class TokenParser{constructor(locale,format){if(this.locale=locale,this.format=format,this.tokens=expandMacroTokens(Formatter.parseFormat(format),locale),this.units=this.tokens.map((t=>function(token,loc){const one=digitRegex(loc),two=digitRegex(loc,"{2}"),three=digitRegex(loc,"{3}"),four=digitRegex(loc,"{4}"),six=digitRegex(loc,"{6}"),oneOrTwo=digitRegex(loc,"{1,2}"),oneToThree=digitRegex(loc,"{1,3}"),oneToSix=digitRegex(loc,"{1,6}"),oneToNine=digitRegex(loc,"{1,9}"),twoToFour=digitRegex(loc,"{2,4}"),fourToSix=digitRegex(loc,"{4,6}"),literal=t=>{return{regex:RegExp((value=t.val,value.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([s2])=>s2,literal:!0};var value},unit=(t=>{if(token.literal)return literal(t);switch(t.val){case"G":return oneOf(loc.eras("short"),0);case"GG":return oneOf(loc.eras("long"),0);case"y":return intUnit(oneToSix);case"yy":case"kk":return intUnit(twoToFour,untruncateYear);case"yyyy":case"kkkk":return intUnit(four);case"yyyyy":return intUnit(fourToSix);case"yyyyyy":return intUnit(six);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return intUnit(oneOrTwo);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return intUnit(two);case"MMM":return oneOf(loc.months("short",!0),1);case"MMMM":return oneOf(loc.months("long",!0),1);case"LLL":return oneOf(loc.months("short",!1),1);case"LLLL":return oneOf(loc.months("long",!1),1);case"o":case"S":return intUnit(oneToThree);case"ooo":case"SSS":return intUnit(three);case"u":return simple(oneToNine);case"uu":return simple(oneOrTwo);case"uuu":case"E":case"c":return intUnit(one);case"a":return oneOf(loc.meridiems(),0);case"EEE":return oneOf(loc.weekdays("short",!1),1);case"EEEE":return oneOf(loc.weekdays("long",!1),1);case"ccc":return oneOf(loc.weekdays("short",!0),1);case"cccc":return oneOf(loc.weekdays("long",!0),1);case"Z":case"ZZ":return offset(new RegExp(`([+-]${oneOrTwo.source})(?::(${two.source}))?`),2);case"ZZZ":return offset(new RegExp(`([+-]${oneOrTwo.source})(${two.source})?`),2);case"z":return simple(/[a-z_+-/]{1,256}?/i);case" ":return simple(/[^\S\n\r]/);default:return literal(t)}})(token)||{invalidReason:"missing Intl.DateTimeFormat.formatToParts support"};return unit.token=token,unit}(t,locale))),this.disqualifyingUnit=this.units.find((t=>t.invalidReason)),!this.disqualifyingUnit){const[regexString,handlers]=[`^${(units=this.units).map((u=>u.regex)).reduce(((f,r)=>`${f}(${r.source})`),"")}$`,units];this.regex=RegExp(regexString,"i"),this.handlers=handlers}var units}explainFromTokens(input){if(this.isValid){const[rawMatches,matches]=function(input,regex,handlers){const matches=input.match(regex);if(matches){const all={};let matchIndex=1;for(const i in handlers)if(hasOwnProperty(handlers,i)){const h=handlers[i],groups=h.groups?h.groups+1:1;!h.literal&&h.token&&(all[h.token.val[0]]=h.deser(matches.slice(matchIndex,matchIndex+groups))),matchIndex+=groups}return[matches,all]}return[matches,{}]}(input,this.regex,this.handlers),[result,zone,specificOffset]=matches?function(matches){let specificOffset,zone=null;return isUndefined(matches.z)||(zone=IANAZone.create(matches.z)),isUndefined(matches.Z)||(zone||(zone=new FixedOffsetZone(matches.Z)),specificOffset=matches.Z),isUndefined(matches.q)||(matches.M=3*(matches.q-1)+1),isUndefined(matches.h)||(matches.h<12&&1===matches.a?matches.h+=12:12===matches.h&&0===matches.a&&(matches.h=0)),0===matches.G&&matches.y&&(matches.y=-matches.y),isUndefined(matches.u)||(matches.S=parseMillis(matches.u)),[Object.keys(matches).reduce(((r,k)=>{const f=(token=>{switch(token){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(k);return f&&(r[f]=matches[k]),r}),{}),zone,specificOffset]}(matches):[null,null,void 0];if(hasOwnProperty(matches,"a")&&hasOwnProperty(matches,"H"))throw new ConflictingSpecificationError("Can't include meridiem when specifying 24-hour format");return{input:input,tokens:this.tokens,regex:this.regex,rawMatches:rawMatches,matches:matches,result:result,zone:zone,specificOffset:specificOffset}}return{input:input,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function explainFromTokens(locale,input,format){return new TokenParser(locale,format).explainFromTokens(input)}function formatOptsToTokens(formatOpts,locale){if(!formatOpts)return null;const df=Formatter.create(locale,formatOpts).dtFormatter((dummyDateTimeCache||(dummyDateTimeCache=DateTime.fromMillis(1555555555555)),dummyDateTimeCache)),parts=df.formatToParts(),resolvedOpts=df.resolvedOptions();return parts.map((p=>function(part,formatOpts,resolvedOpts){const{type:type,value:value}=part;if("literal"===type){const isSpace=/^\s+$/.test(value);return{literal:!isSpace,val:isSpace?" ":value}}const style=formatOpts[type];let actualType=type;"hour"===type&&(actualType=null!=formatOpts.hour12?formatOpts.hour12?"hour12":"hour24":null!=formatOpts.hourCycle?"h11"===formatOpts.hourCycle||"h12"===formatOpts.hourCycle?"hour12":"hour24":resolvedOpts.hour12?"hour12":"hour24");let val=partTypeStyleToTokenVal[actualType];if("object"==typeof val&&(val=val[style]),val)return{literal:!1,val:val}}(p,formatOpts,resolvedOpts)))}const INVALID="Invalid DateTime";function unsupportedZone(zone){return new Invalid("unsupported zone",`the zone "${zone.name}" is not supported`)}function possiblyCachedWeekData(dt){return null===dt.weekData&&(dt.weekData=gregorianToWeek(dt.c)),dt.weekData}function possiblyCachedLocalWeekData(dt){return null===dt.localWeekData&&(dt.localWeekData=gregorianToWeek(dt.c,dt.loc.getMinDaysInFirstWeek(),dt.loc.getStartOfWeek())),dt.localWeekData}function clone(inst,alts){const current={ts:inst.ts,zone:inst.zone,c:inst.c,o:inst.o,loc:inst.loc,invalid:inst.invalid};return new DateTime(__spreadProps(__spreadValues(__spreadValues({},current),alts),{old:current}))}function fixOffset(localTS,o,tz){let utcGuess=localTS-60*o*1e3;const o2=tz.offset(utcGuess);if(o===o2)return[utcGuess,o];utcGuess-=60*(o2-o)*1e3;const o3=tz.offset(utcGuess);return o2===o3?[utcGuess,o2]:[localTS-60*Math.min(o2,o3)*1e3,Math.max(o2,o3)]}function tsToObj(ts,offset2){const d=new Date(ts+=60*offset2*1e3);return{year:d.getUTCFullYear(),month:d.getUTCMonth()+1,day:d.getUTCDate(),hour:d.getUTCHours(),minute:d.getUTCMinutes(),second:d.getUTCSeconds(),millisecond:d.getUTCMilliseconds()}}function objToTS(obj,offset2,zone){return fixOffset(objToLocalTS(obj),offset2,zone)}function adjustTime(inst,dur){const oPre=inst.o,year=inst.c.year+Math.trunc(dur.years),month=inst.c.month+Math.trunc(dur.months)+3*Math.trunc(dur.quarters),c=__spreadProps(__spreadValues({},inst.c),{year:year,month:month,day:Math.min(inst.c.day,daysInMonth(year,month))+Math.trunc(dur.days)+7*Math.trunc(dur.weeks)}),millisToAdd=Duration.fromObject({years:dur.years-Math.trunc(dur.years),quarters:dur.quarters-Math.trunc(dur.quarters),months:dur.months-Math.trunc(dur.months),weeks:dur.weeks-Math.trunc(dur.weeks),days:dur.days-Math.trunc(dur.days),hours:dur.hours,minutes:dur.minutes,seconds:dur.seconds,milliseconds:dur.milliseconds}).as("milliseconds"),localTS=objToLocalTS(c);let[ts,o]=fixOffset(localTS,oPre,inst.zone);return 0!==millisToAdd&&(ts+=millisToAdd,o=inst.zone.offset(ts)),{ts:ts,o:o}}function parseDataToDateTime(parsed,parsedZone,opts,format,text,specificOffset){const{setZone:setZone,zone:zone}=opts;if(parsed&&0!==Object.keys(parsed).length||parsedZone){const interpretationZone=parsedZone||zone,inst=DateTime.fromObject(parsed,__spreadProps(__spreadValues({},opts),{zone:interpretationZone,specificOffset:specificOffset}));return setZone?inst:inst.setZone(zone)}return DateTime.invalid(new Invalid("unparsable",`the input "${text}" can't be parsed as ${format}`))}function toTechFormat(dt,format,allowZ=!0){return dt.isValid?Formatter.create(Locale.create("en-US"),{allowZ:allowZ,forceSimple:!0}).formatDateTimeFromString(dt,format):null}function toISODate(o,extended){const longFormat=o.c.year>9999||o.c.year<0;let c="";return longFormat&&o.c.year>=0&&(c+="+"),c+=padStart(o.c.year,longFormat?6:4),extended?(c+="-",c+=padStart(o.c.month),c+="-",c+=padStart(o.c.day)):(c+=padStart(o.c.month),c+=padStart(o.c.day)),c}function toISOTime(o,extended,suppressSeconds,suppressMilliseconds,includeOffset,extendedZone){let c=padStart(o.c.hour);return extended?(c+=":",c+=padStart(o.c.minute),0===o.c.millisecond&&0===o.c.second&&suppressSeconds||(c+=":")):c+=padStart(o.c.minute),0===o.c.millisecond&&0===o.c.second&&suppressSeconds||(c+=padStart(o.c.second),0===o.c.millisecond&&suppressMilliseconds||(c+=".",c+=padStart(o.c.millisecond,3))),includeOffset&&(o.isOffsetFixed&&0===o.offset&&!extendedZone?c+="Z":o.o<0?(c+="-",c+=padStart(Math.trunc(-o.o/60)),c+=":",c+=padStart(Math.trunc(-o.o%60))):(c+="+",c+=padStart(Math.trunc(o.o/60)),c+=":",c+=padStart(Math.trunc(o.o%60)))),extendedZone&&(c+="["+o.zone.ianaName+"]"),c}const defaultUnitValues={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},defaultWeekUnitValues={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},defaultOrdinalUnitValues={ordinal:1,hour:0,minute:0,second:0,millisecond:0},orderedUnits=["year","month","day","hour","minute","second","millisecond"],orderedWeekUnits=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],orderedOrdinalUnits=["year","ordinal","hour","minute","second","millisecond"];function normalizeUnitWithLocalWeeks(unit){switch(unit.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function(unit){const normalized={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[unit.toLowerCase()];if(!normalized)throw new InvalidUnitError(unit);return normalized}(unit)}}function quickDT(obj,opts){const zone=normalizeZone(opts.zone,Settings.defaultZone);if(!zone.isValid)return DateTime.invalid(unsupportedZone(zone));const loc=Locale.fromObject(opts);let ts,o;if(isUndefined(obj.year))ts=Settings.now();else{for(const u of orderedUnits)isUndefined(obj[u])&&(obj[u]=defaultUnitValues[u]);const invalid=hasInvalidGregorianData(obj)||hasInvalidTimeData(obj);if(invalid)return DateTime.invalid(invalid);const offsetProvis=function(zone){return zoneOffsetGuessCache[zone]||(void 0===zoneOffsetTs&&(zoneOffsetTs=Settings.now()),zoneOffsetGuessCache[zone]=zone.offset(zoneOffsetTs)),zoneOffsetGuessCache[zone]}(zone);[ts,o]=objToTS(obj,offsetProvis,zone)}return new DateTime({ts:ts,zone:zone,loc:loc,o:o})}function diffRelative(start,end,opts){const round=!!isUndefined(opts.round)||opts.round,format=(c,unit)=>{c=roundTo(c,round||opts.calendary?0:2,!0);return end.loc.clone(opts).relFormatter(opts).format(c,unit)},differ=unit=>opts.calendary?end.hasSame(start,unit)?0:end.startOf(unit).diff(start.startOf(unit),unit).get(unit):end.diff(start,unit).get(unit);if(opts.unit)return format(differ(opts.unit),opts.unit);for(const unit of opts.units){const count=differ(unit);if(Math.abs(count)>=1)return format(count,unit)}return format(start>end?-0:0,opts.units[opts.units.length-1])}function lastOpts(argList){let args,opts={};return argList.length>0&&"object"==typeof argList[argList.length-1]?(opts=argList[argList.length-1],args=Array.from(argList).slice(0,argList.length-1)):args=Array.from(argList),[opts,args]}let zoneOffsetTs,zoneOffsetGuessCache={};class DateTime{constructor(config){const zone=config.zone||Settings.defaultZone;let invalid=config.invalid||(Number.isNaN(config.ts)?new Invalid("invalid input"):null)||(zone.isValid?null:unsupportedZone(zone));this.ts=isUndefined(config.ts)?Settings.now():config.ts;let c=null,o=null;if(!invalid){if(config.old&&config.old.ts===this.ts&&config.old.zone.equals(zone))[c,o]=[config.old.c,config.old.o];else{const ot=isNumber(config.o)&&!config.old?config.o:zone.offset(this.ts);c=tsToObj(this.ts,ot),invalid=Number.isNaN(c.year)?new Invalid("invalid input"):null,c=invalid?null:c,o=invalid?null:ot}}this._zone=zone,this.loc=config.loc||Locale.create(),this.invalid=invalid,this.weekData=null,this.localWeekData=null,this.c=c,this.o=o,this.isLuxonDateTime=!0}static now(){return new DateTime({})}static local(){const[opts,args]=lastOpts(arguments),[year,month,day,hour,minute,second,millisecond]=args;return quickDT({year:year,month:month,day:day,hour:hour,minute:minute,second:second,millisecond:millisecond},opts)}static utc(){const[opts,args]=lastOpts(arguments),[year,month,day,hour,minute,second,millisecond]=args;return opts.zone=FixedOffsetZone.utcInstance,quickDT({year:year,month:month,day:day,hour:hour,minute:minute,second:second,millisecond:millisecond},opts)}static fromJSDate(date2,options={}){const ts=(o=date2,"[object Date]"===Object.prototype.toString.call(o)?date2.valueOf():NaN);var o;if(Number.isNaN(ts))return DateTime.invalid("invalid input");const zoneToUse=normalizeZone(options.zone,Settings.defaultZone);return zoneToUse.isValid?new DateTime({ts:ts,zone:zoneToUse,loc:Locale.fromObject(options)}):DateTime.invalid(unsupportedZone(zoneToUse))}static fromMillis(milliseconds,options={}){if(isNumber(milliseconds))return milliseconds<-864e13||milliseconds>864e13?DateTime.invalid("Timestamp out of range"):new DateTime({ts:milliseconds,zone:normalizeZone(options.zone,Settings.defaultZone),loc:Locale.fromObject(options)});throw new InvalidArgumentError(`fromMillis requires a numerical input, but received a ${typeof milliseconds} with value ${milliseconds}`)}static fromSeconds(seconds,options={}){if(isNumber(seconds))return new DateTime({ts:1e3*seconds,zone:normalizeZone(options.zone,Settings.defaultZone),loc:Locale.fromObject(options)});throw new InvalidArgumentError("fromSeconds requires a numerical input")}static fromObject(obj,opts={}){obj=obj||{};const zoneToUse=normalizeZone(opts.zone,Settings.defaultZone);if(!zoneToUse.isValid)return DateTime.invalid(unsupportedZone(zoneToUse));const loc=Locale.fromObject(opts),normalized=normalizeObject(obj,normalizeUnitWithLocalWeeks),{minDaysInFirstWeek:minDaysInFirstWeek,startOfWeek:startOfWeek}=usesLocalWeekValues(normalized,loc),tsNow=Settings.now(),offsetProvis=isUndefined(opts.specificOffset)?zoneToUse.offset(tsNow):opts.specificOffset,containsOrdinal=!isUndefined(normalized.ordinal),containsGregorYear=!isUndefined(normalized.year),containsGregorMD=!isUndefined(normalized.month)||!isUndefined(normalized.day),containsGregor=containsGregorYear||containsGregorMD,definiteWeekDef=normalized.weekYear||normalized.weekNumber;if((containsGregor||containsOrdinal)&&definiteWeekDef)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(containsGregorMD&&containsOrdinal)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");const useWeekData=definiteWeekDef||normalized.weekday&&!containsGregor;let units,defaultValues,objNow=tsToObj(tsNow,offsetProvis);useWeekData?(units=orderedWeekUnits,defaultValues=defaultWeekUnitValues,objNow=gregorianToWeek(objNow,minDaysInFirstWeek,startOfWeek)):containsOrdinal?(units=orderedOrdinalUnits,defaultValues=defaultOrdinalUnitValues,objNow=gregorianToOrdinal(objNow)):(units=orderedUnits,defaultValues=defaultUnitValues);let foundFirst=!1;for(const u of units){isUndefined(normalized[u])?normalized[u]=foundFirst?defaultValues[u]:objNow[u]:foundFirst=!0}const higherOrderInvalid=useWeekData?function(obj,minDaysInFirstWeek=4,startOfWeek=1){const validYear=isInteger(obj.weekYear),validWeek=integerBetween(obj.weekNumber,1,weeksInWeekYear(obj.weekYear,minDaysInFirstWeek,startOfWeek)),validWeekday=integerBetween(obj.weekday,1,7);return validYear?validWeek?!validWeekday&&unitOutOfRange("weekday",obj.weekday):unitOutOfRange("week",obj.weekNumber):unitOutOfRange("weekYear",obj.weekYear)}(normalized,minDaysInFirstWeek,startOfWeek):containsOrdinal?function(obj){const validYear=isInteger(obj.year),validOrdinal=integerBetween(obj.ordinal,1,daysInYear(obj.year));return validYear?!validOrdinal&&unitOutOfRange("ordinal",obj.ordinal):unitOutOfRange("year",obj.year)}(normalized):hasInvalidGregorianData(normalized),invalid=higherOrderInvalid||hasInvalidTimeData(normalized);if(invalid)return DateTime.invalid(invalid);const gregorian=useWeekData?weekToGregorian(normalized,minDaysInFirstWeek,startOfWeek):containsOrdinal?ordinalToGregorian(normalized):normalized,[tsFinal,offsetFinal]=objToTS(gregorian,offsetProvis,zoneToUse),inst=new DateTime({ts:tsFinal,zone:zoneToUse,o:offsetFinal,loc:loc});return normalized.weekday&&containsGregor&&obj.weekday!==inst.weekday?DateTime.invalid("mismatched weekday",`you can't specify both a weekday of ${normalized.weekday} and a date of ${inst.toISO()}`):inst.isValid?inst:DateTime.invalid(inst.invalid)}static fromISO(text,opts={}){const[vals,parsedZone]=parse(text,[isoYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[isoWeekWithTimeExtensionRegex,extractISOWeekTimeAndOffset],[isoOrdinalWithTimeExtensionRegex,extractISOOrdinalDateAndTime],[isoTimeCombinedRegex,extractISOTimeAndOffset]);return parseDataToDateTime(vals,parsedZone,opts,"ISO 8601",text)}static fromRFC2822(text,opts={}){const[vals,parsedZone]=parse(function(s2){return s2.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(text),[rfc2822,extractRFC2822]);return parseDataToDateTime(vals,parsedZone,opts,"RFC 2822",text)}static fromHTTP(text,opts={}){const[vals,parsedZone]=parse(text,[rfc1123,extractRFC1123Or850],[rfc850,extractRFC1123Or850],[ascii,extractASCII]);return parseDataToDateTime(vals,parsedZone,opts,"HTTP",opts)}static fromFormat(text,fmt,opts={}){if(isUndefined(text)||isUndefined(fmt))throw new InvalidArgumentError("fromFormat requires an input string and a format");const{locale:locale=null,numberingSystem:numberingSystem=null}=opts,localeToUse=Locale.fromOpts({locale:locale,numberingSystem:numberingSystem,defaultToEN:!0}),[vals,parsedZone,specificOffset,invalid]=function(locale,input,format){const{result:result,zone:zone,specificOffset:specificOffset,invalidReason:invalidReason}=explainFromTokens(locale,input,format);return[result,zone,specificOffset,invalidReason]}(localeToUse,text,fmt);return invalid?DateTime.invalid(invalid):parseDataToDateTime(vals,parsedZone,opts,`format ${fmt}`,text,specificOffset)}static fromString(text,fmt,opts={}){return DateTime.fromFormat(text,fmt,opts)}static fromSQL(text,opts={}){const[vals,parsedZone]=parse(text,[sqlYmdWithTimeExtensionRegex,extractISOYmdTimeAndOffset],[sqlTimeCombinedRegex,extractISOTimeOffsetAndIANAZone]);return parseDataToDateTime(vals,parsedZone,opts,"SQL",text)}static invalid(reason,explanation=null){if(!reason)throw new InvalidArgumentError("need to specify a reason the DateTime is invalid");const invalid=reason instanceof Invalid?reason:new Invalid(reason,explanation);if(Settings.throwOnInvalid)throw new InvalidDateTimeError(invalid);return new DateTime({invalid:invalid})}static isDateTime(o){return o&&o.isLuxonDateTime||!1}static parseFormatForOpts(formatOpts,localeOpts={}){const tokenList=formatOptsToTokens(formatOpts,Locale.fromObject(localeOpts));return tokenList?tokenList.map((t=>t?t.val:null)).join(""):null}static expandFormat(fmt,localeOpts={}){return expandMacroTokens(Formatter.parseFormat(fmt),Locale.fromObject(localeOpts)).map((t=>t.val)).join("")}static resetCache(){zoneOffsetTs=void 0,zoneOffsetGuessCache={}}get(unit){return this[unit]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?possiblyCachedWeekData(this).weekYear:NaN}get weekNumber(){return this.isValid?possiblyCachedWeekData(this).weekNumber:NaN}get weekday(){return this.isValid?possiblyCachedWeekData(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?possiblyCachedLocalWeekData(this).weekday:NaN}get localWeekNumber(){return this.isValid?possiblyCachedLocalWeekData(this).weekNumber:NaN}get localWeekYear(){return this.isValid?possiblyCachedLocalWeekData(this).weekYear:NaN}get ordinal(){return this.isValid?gregorianToOrdinal(this.c).ordinal:NaN}get monthShort(){return this.isValid?Info.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Info.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Info.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Info.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const localTS=objToLocalTS(this.c),oEarlier=this.zone.offset(localTS-864e5),oLater=this.zone.offset(localTS+864e5),o1=this.zone.offset(localTS-6e4*oEarlier),o2=this.zone.offset(localTS-6e4*oLater);if(o1===o2)return[this];const ts1=localTS-6e4*o1,ts2=localTS-6e4*o2,c1=tsToObj(ts1,o1),c2=tsToObj(ts2,o2);return c1.hour===c2.hour&&c1.minute===c2.minute&&c1.second===c2.second&&c1.millisecond===c2.millisecond?[clone(this,{ts:ts1}),clone(this,{ts:ts2})]:[this]}get isInLeapYear(){return isLeapYear(this.year)}get daysInMonth(){return daysInMonth(this.year,this.month)}get daysInYear(){return this.isValid?daysInYear(this.year):NaN}get weeksInWeekYear(){return this.isValid?weeksInWeekYear(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?weeksInWeekYear(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(opts={}){const{locale:locale,numberingSystem:numberingSystem,calendar:calendar}=Formatter.create(this.loc.clone(opts),opts).resolvedOptions(this);return{locale:locale,numberingSystem:numberingSystem,outputCalendar:calendar}}toUTC(offset2=0,opts={}){return this.setZone(FixedOffsetZone.instance(offset2),opts)}toLocal(){return this.setZone(Settings.defaultZone)}setZone(zone,{keepLocalTime:keepLocalTime=!1,keepCalendarTime:keepCalendarTime=!1}={}){if((zone=normalizeZone(zone,Settings.defaultZone)).equals(this.zone))return this;if(zone.isValid){let newTS=this.ts;if(keepLocalTime||keepCalendarTime){const offsetGuess=zone.offset(this.ts),asObj=this.toObject();[newTS]=objToTS(asObj,offsetGuess,zone)}return clone(this,{ts:newTS,zone:zone})}return DateTime.invalid(unsupportedZone(zone))}reconfigure({locale:locale,numberingSystem:numberingSystem,outputCalendar:outputCalendar}={}){return clone(this,{loc:this.loc.clone({locale:locale,numberingSystem:numberingSystem,outputCalendar:outputCalendar})})}setLocale(locale){return this.reconfigure({locale:locale})}set(values){if(!this.isValid)return this;const normalized=normalizeObject(values,normalizeUnitWithLocalWeeks),{minDaysInFirstWeek:minDaysInFirstWeek,startOfWeek:startOfWeek}=usesLocalWeekValues(normalized,this.loc),settingWeekStuff=!isUndefined(normalized.weekYear)||!isUndefined(normalized.weekNumber)||!isUndefined(normalized.weekday),containsOrdinal=!isUndefined(normalized.ordinal),containsGregorYear=!isUndefined(normalized.year),containsGregorMD=!isUndefined(normalized.month)||!isUndefined(normalized.day),containsGregor=containsGregorYear||containsGregorMD,definiteWeekDef=normalized.weekYear||normalized.weekNumber;if((containsGregor||containsOrdinal)&&definiteWeekDef)throw new ConflictingSpecificationError("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(containsGregorMD&&containsOrdinal)throw new ConflictingSpecificationError("Can't mix ordinal dates with month/day");let mixed;settingWeekStuff?mixed=weekToGregorian(__spreadValues(__spreadValues({},gregorianToWeek(this.c,minDaysInFirstWeek,startOfWeek)),normalized),minDaysInFirstWeek,startOfWeek):isUndefined(normalized.ordinal)?(mixed=__spreadValues(__spreadValues({},this.toObject()),normalized),isUndefined(normalized.day)&&(mixed.day=Math.min(daysInMonth(mixed.year,mixed.month),mixed.day))):mixed=ordinalToGregorian(__spreadValues(__spreadValues({},gregorianToOrdinal(this.c)),normalized));const[ts,o]=objToTS(mixed,this.o,this.zone);return clone(this,{ts:ts,o:o})}plus(duration){if(!this.isValid)return this;return clone(this,adjustTime(this,Duration.fromDurationLike(duration)))}minus(duration){if(!this.isValid)return this;return clone(this,adjustTime(this,Duration.fromDurationLike(duration).negate()))}startOf(unit,{useLocaleWeeks:useLocaleWeeks=!1}={}){if(!this.isValid)return this;const o={},normalizedUnit=Duration.normalizeUnit(unit);switch(normalizedUnit){case"years":o.month=1;case"quarters":case"months":o.day=1;case"weeks":case"days":o.hour=0;case"hours":o.minute=0;case"minutes":o.second=0;case"seconds":o.millisecond=0}if("weeks"===normalizedUnit)if(useLocaleWeeks){const startOfWeek=this.loc.getStartOfWeek(),{weekday:weekday}=this;weekday<startOfWeek&&(o.weekNumber=this.weekNumber-1),o.weekday=startOfWeek}else o.weekday=1;if("quarters"===normalizedUnit){const q=Math.ceil(this.month/3);o.month=3*(q-1)+1}return this.set(o)}endOf(unit,opts){return this.isValid?this.plus({[unit]:1}).startOf(unit,opts).minus(1):this}toFormat(fmt,opts={}){return this.isValid?Formatter.create(this.loc.redefaultToEN(opts)).formatDateTimeFromString(this,fmt):INVALID}toLocaleString(formatOpts=DATE_SHORT,opts={}){return this.isValid?Formatter.create(this.loc.clone(opts),formatOpts).formatDateTime(this):INVALID}toLocaleParts(opts={}){return this.isValid?Formatter.create(this.loc.clone(opts),opts).formatDateTimeParts(this):[]}toISO({format:format="extended",suppressSeconds:suppressSeconds=!1,suppressMilliseconds:suppressMilliseconds=!1,includeOffset:includeOffset=!0,extendedZone:extendedZone=!1}={}){if(!this.isValid)return null;const ext="extended"===format;let c=toISODate(this,ext);return c+="T",c+=toISOTime(this,ext,suppressSeconds,suppressMilliseconds,includeOffset,extendedZone),c}toISODate({format:format="extended"}={}){return this.isValid?toISODate(this,"extended"===format):null}toISOWeekDate(){return toTechFormat(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:suppressMilliseconds=!1,suppressSeconds:suppressSeconds=!1,includeOffset:includeOffset=!0,includePrefix:includePrefix=!1,extendedZone:extendedZone=!1,format:format="extended"}={}){if(!this.isValid)return null;return(includePrefix?"T":"")+toISOTime(this,"extended"===format,suppressSeconds,suppressMilliseconds,includeOffset,extendedZone)}toRFC2822(){return toTechFormat(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return toTechFormat(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?toISODate(this,!0):null}toSQLTime({includeOffset:includeOffset=!0,includeZone:includeZone=!1,includeOffsetSpace:includeOffsetSpace=!0}={}){let fmt="HH:mm:ss.SSS";return(includeZone||includeOffset)&&(includeOffsetSpace&&(fmt+=" "),includeZone?fmt+="z":includeOffset&&(fmt+="ZZ")),toTechFormat(this,fmt,!0)}toSQL(opts={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(opts)}`:null}toString(){return this.isValid?this.toISO():INVALID}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(opts={}){if(!this.isValid)return{};const base=__spreadValues({},this.c);return opts.includeConfig&&(base.outputCalendar=this.outputCalendar,base.numberingSystem=this.loc.numberingSystem,base.locale=this.loc.locale),base}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(otherDateTime,unit="milliseconds",opts={}){if(!this.isValid||!otherDateTime.isValid)return Duration.invalid("created by diffing an invalid DateTime");const durOpts=__spreadValues({locale:this.locale,numberingSystem:this.numberingSystem},opts),units=(thing=unit,Array.isArray(thing)?thing:[thing]).map(Duration.normalizeUnit),otherIsLater=otherDateTime.valueOf()>this.valueOf(),diffed=diff(otherIsLater?this:otherDateTime,otherIsLater?otherDateTime:this,units,durOpts);var thing;return otherIsLater?diffed.negate():diffed}diffNow(unit="milliseconds",opts={}){return this.diff(DateTime.now(),unit,opts)}until(otherDateTime){return this.isValid?Interval.fromDateTimes(this,otherDateTime):this}hasSame(otherDateTime,unit,opts){if(!this.isValid)return!1;const inputMs=otherDateTime.valueOf(),adjustedToZone=this.setZone(otherDateTime.zone,{keepLocalTime:!0});return adjustedToZone.startOf(unit,opts)<=inputMs&&inputMs<=adjustedToZone.endOf(unit,opts)}equals(other){return this.isValid&&other.isValid&&this.valueOf()===other.valueOf()&&this.zone.equals(other.zone)&&this.loc.equals(other.loc)}toRelative(options={}){if(!this.isValid)return null;const base=options.base||DateTime.fromObject({},{zone:this.zone}),padding=options.padding?this<base?-options.padding:options.padding:0;let units=["years","months","days","hours","minutes","seconds"],unit=options.unit;return Array.isArray(options.unit)&&(units=options.unit,unit=void 0),diffRelative(base,this.plus(padding),__spreadProps(__spreadValues({},options),{numeric:"always",units:units,unit:unit}))}toRelativeCalendar(options={}){return this.isValid?diffRelative(options.base||DateTime.fromObject({},{zone:this.zone}),this,__spreadProps(__spreadValues({},options),{numeric:"auto",units:["years","months","days"],calendary:!0})):null}static min(...dateTimes){if(!dateTimes.every(DateTime.isDateTime))throw new InvalidArgumentError("min requires all arguments be DateTimes");return bestBy(dateTimes,(i=>i.valueOf()),Math.min)}static max(...dateTimes){if(!dateTimes.every(DateTime.isDateTime))throw new InvalidArgumentError("max requires all arguments be DateTimes");return bestBy(dateTimes,(i=>i.valueOf()),Math.max)}static fromFormatExplain(text,fmt,options={}){const{locale:locale=null,numberingSystem:numberingSystem=null}=options;return explainFromTokens(Locale.fromOpts({locale:locale,numberingSystem:numberingSystem,defaultToEN:!0}),text,fmt)}static fromStringExplain(text,fmt,options={}){return DateTime.fromFormatExplain(text,fmt,options)}static buildFormatParser(fmt,options={}){const{locale:locale=null,numberingSystem:numberingSystem=null}=options,localeToUse=Locale.fromOpts({locale:locale,numberingSystem:numberingSystem,defaultToEN:!0});return new TokenParser(localeToUse,fmt)}static fromFormatParser(text,formatParser,opts={}){if(isUndefined(text)||isUndefined(formatParser))throw new InvalidArgumentError("fromFormatParser requires an input string and a format parser");const{locale:locale=null,numberingSystem:numberingSystem=null}=opts,localeToUse=Locale.fromOpts({locale:locale,numberingSystem:numberingSystem,defaultToEN:!0});if(!localeToUse.equals(formatParser.locale))throw new InvalidArgumentError(`fromFormatParser called with a locale of ${localeToUse}, but the format parser was created for ${formatParser.locale}`);const{result:result,zone:zone,specificOffset:specificOffset,invalidReason:invalidReason}=formatParser.explainFromTokens(text);return invalidReason?DateTime.invalid(invalidReason):parseDataToDateTime(result,zone,opts,`format ${formatParser.format}`,text,specificOffset)}static get DATE_SHORT(){return DATE_SHORT}static get DATE_MED(){return DATE_MED}static get DATE_MED_WITH_WEEKDAY(){return DATE_MED_WITH_WEEKDAY}static get DATE_FULL(){return DATE_FULL}static get DATE_HUGE(){return DATE_HUGE}static get TIME_SIMPLE(){return TIME_SIMPLE}static get TIME_WITH_SECONDS(){return TIME_WITH_SECONDS}static get TIME_WITH_SHORT_OFFSET(){return TIME_WITH_SHORT_OFFSET}static get TIME_WITH_LONG_OFFSET(){return TIME_WITH_LONG_OFFSET}static get TIME_24_SIMPLE(){return TIME_24_SIMPLE}static get TIME_24_WITH_SECONDS(){return TIME_24_WITH_SECONDS}static get TIME_24_WITH_SHORT_OFFSET(){return TIME_24_WITH_SHORT_OFFSET}static get TIME_24_WITH_LONG_OFFSET(){return TIME_24_WITH_LONG_OFFSET}static get DATETIME_SHORT(){return DATETIME_SHORT}static get DATETIME_SHORT_WITH_SECONDS(){return DATETIME_SHORT_WITH_SECONDS}static get DATETIME_MED(){return DATETIME_MED}static get DATETIME_MED_WITH_SECONDS(){return DATETIME_MED_WITH_SECONDS}static get DATETIME_MED_WITH_WEEKDAY(){return DATETIME_MED_WITH_WEEKDAY}static get DATETIME_FULL(){return DATETIME_FULL}static get DATETIME_FULL_WITH_SECONDS(){return DATETIME_FULL_WITH_SECONDS}static get DATETIME_HUGE(){return DATETIME_HUGE}static get DATETIME_HUGE_WITH_SECONDS(){return DATETIME_HUGE_WITH_SECONDS}}function friendlyDateTime(dateTimeish){if(DateTime.isDateTime(dateTimeish))return dateTimeish;if(dateTimeish&&dateTimeish.valueOf&&isNumber(dateTimeish.valueOf()))return DateTime.fromJSDate(dateTimeish);if(dateTimeish&&"object"==typeof dateTimeish)return DateTime.fromObject(dateTimeish);throw new InvalidArgumentError(`Unknown datetime argument: ${dateTimeish}, of type ${typeof dateTimeish}`)}luxon$1.DateTime=DateTime,luxon$1.Duration=Duration,luxon$1.FixedOffsetZone=FixedOffsetZone,luxon$1.IANAZone=IANAZone,luxon$1.Info=Info,luxon$1.Interval=Interval,luxon$1.InvalidZone=InvalidZone,luxon$1.Settings=Settings,luxon$1.SystemZone=SystemZone,luxon$1.VERSION="3.5.0",luxon$1.Zone=Zone;var luxon=luxon$1;function CronDate$1(timestamp,tz){var dateOpts={zone:tz};if(timestamp?timestamp instanceof CronDate$1?this._date=timestamp._date:timestamp instanceof Date?this._date=luxon.DateTime.fromJSDate(timestamp,dateOpts):"number"==typeof timestamp?this._date=luxon.DateTime.fromMillis(timestamp,dateOpts):"string"==typeof timestamp&&(this._date=luxon.DateTime.fromISO(timestamp,dateOpts),this._date.isValid||(this._date=luxon.DateTime.fromRFC2822(timestamp,dateOpts)),this._date.isValid||(this._date=luxon.DateTime.fromSQL(timestamp,dateOpts)),this._date.isValid||(this._date=luxon.DateTime.fromFormat(timestamp,"EEE, d MMM yyyy HH:mm:ss",dateOpts))):this._date=luxon.DateTime.local(),!this._date||!this._date.isValid)throw new Error("CronDate: unhandled timestamp: "+JSON.stringify(timestamp));tz&&tz!==this._date.zoneName&&(this._date=this._date.setZone(tz))}function buildRange(item){return{start:item,count:1}}function completeRangeWithItem(range,item){range.end=item,range.step=item-range.start,range.count=2}function finalizeCurrentRange(results,currentRange,currentItemRange){currentRange&&(2===currentRange.count?(results.push(buildRange(currentRange.start)),results.push(buildRange(currentRange.end))):results.push(currentRange)),currentItemRange&&results.push(currentItemRange)}CronDate$1.prototype.addYear=function(){this._date=this._date.plus({years:1})},CronDate$1.prototype.addMonth=function(){this._date=this._date.plus({months:1}).startOf("month")},CronDate$1.prototype.addDay=function(){this._date=this._date.plus({days:1}).startOf("day")},CronDate$1.prototype.addHour=function(){var prev2=this._date;this._date=this._date.plus({hours:1}).startOf("hour"),this._date<=prev2&&(this._date=this._date.plus({hours:1}))},CronDate$1.prototype.addMinute=function(){var prev2=this._date;this._date=this._date.plus({minutes:1}).startOf("minute"),this._date<prev2&&(this._date=this._date.plus({hours:1}))},CronDate$1.prototype.addSecond=function(){var prev2=this._date;this._date=this._date.plus({seconds:1}).startOf("second"),this._date<prev2&&(this._date=this._date.plus({hours:1}))},CronDate$1.prototype.subtractYear=function(){this._date=this._date.minus({years:1})},CronDate$1.prototype.subtractMonth=function(){this._date=this._date.minus({months:1}).endOf("month").startOf("second")},CronDate$1.prototype.subtractDay=function(){this._date=this._date.minus({days:1}).endOf("day").startOf("second")},CronDate$1.prototype.subtractHour=function(){var prev2=this._date;this._date=this._date.minus({hours:1}).endOf("hour").startOf("second"),this._date>=prev2&&(this._date=this._date.minus({hours:1}))},CronDate$1.prototype.subtractMinute=function(){var prev2=this._date;this._date=this._date.minus({minutes:1}).endOf("minute").startOf("second"),this._date>prev2&&(this._date=this._date.minus({hours:1}))},CronDate$1.prototype.subtractSecond=function(){var prev2=this._date;this._date=this._date.minus({seconds:1}).startOf("second"),this._date>prev2&&(this._date=this._date.minus({hours:1}))},CronDate$1.prototype.getDate=function(){return this._date.day},CronDate$1.prototype.getFullYear=function(){return this._date.year},CronDate$1.prototype.getDay=function(){var weekday=this._date.weekday;return 7==weekday?0:weekday},CronDate$1.prototype.getMonth=function(){return this._date.month-1},CronDate$1.prototype.getHours=function(){return this._date.hour},CronDate$1.prototype.getMinutes=function(){return this._date.minute},CronDate$1.prototype.getSeconds=function(){return this._date.second},CronDate$1.prototype.getMilliseconds=function(){return this._date.millisecond},CronDate$1.prototype.getTime=function(){return this._date.valueOf()},CronDate$1.prototype.getUTCDate=function(){return this._getUTC().day},CronDate$1.prototype.getUTCFullYear=function(){return this._getUTC().year},CronDate$1.prototype.getUTCDay=function(){var weekday=this._getUTC().weekday;return 7==weekday?0:weekday},CronDate$1.prototype.getUTCMonth=function(){return this._getUTC().month-1},CronDate$1.prototype.getUTCHours=function(){return this._getUTC().hour},CronDate$1.prototype.getUTCMinutes=function(){return this._getUTC().minute},CronDate$1.prototype.getUTCSeconds=function(){return this._getUTC().second},CronDate$1.prototype.toISOString=function(){return this._date.toUTC().toISO()},CronDate$1.prototype.toJSON=function(){return this._date.toJSON()},CronDate$1.prototype.setDate=function(d){this._date=this._date.set({day:d})},CronDate$1.prototype.setFullYear=function(y){this._date=this._date.set({year:y})},CronDate$1.prototype.setDay=function(d){this._date=this._date.set({weekday:d})},CronDate$1.prototype.setMonth=function(m){this._date=this._date.set({month:m+1})},CronDate$1.prototype.setHours=function(h){this._date=this._date.set({hour:h})},CronDate$1.prototype.setMinutes=function(m){this._date=this._date.set({minute:m})},CronDate$1.prototype.setSeconds=function(s2){this._date=this._date.set({second:s2})},CronDate$1.prototype.setMilliseconds=function(s2){this._date=this._date.set({millisecond:s2})},CronDate$1.prototype._getUTC=function(){return this._date.toUTC()},CronDate$1.prototype.toString=function(){return this.toDate().toString()},CronDate$1.prototype.toDate=function(){return this._date.toJSDate()},CronDate$1.prototype.isLastDayOfMonth=function(){var newDate=this._date.plus({days:1}).startOf("day");return this._date.month!==newDate.month},CronDate$1.prototype.isLastWeekdayOfMonth=function(){var newDate=this._date.plus({days:7}).startOf("day");return this._date.month!==newDate.month};var compactField=function(arr){for(var results=[],currentRange=void 0,i=0;i<arr.length;i++){var currentItem=arr[i];"number"!=typeof currentItem?(finalizeCurrentRange(results,currentRange,buildRange(currentItem)),currentRange=void 0):currentRange?1===currentRange.count?completeRangeWithItem(currentRange,currentItem):currentRange.step===currentItem-currentRange.end?(currentRange.count++,currentRange.end=currentItem):2===currentRange.count?(results.push(buildRange(currentRange.start)),completeRangeWithItem(currentRange=buildRange(currentRange.end),currentItem)):(finalizeCurrentRange(results,currentRange),currentRange=buildRange(currentItem)):currentRange=buildRange(currentItem)}return finalizeCurrentRange(results,currentRange),results};var CronDate=CronDate$1,stringifyField=function(arr,min,max){var ranges=compactField(arr);if(1===ranges.length){var singleRange=ranges[0];if(1===(step=singleRange.step)&&singleRange.start===min&&singleRange.end===max)return"*";if(1!==step&&singleRange.start===min&&singleRange.end===max-step+1)return"*/"+step}for(var result=[],i=0,l2=ranges.length;i<l2;++i){var range=ranges[i];if(1!==range.count){var step=range.step;if(1!==range.step){var multiplier=0==range.start?range.count-1:range.count;range.step*multiplier>range.end?result=result.concat(Array.from({length:range.end-range.start+1}).map((function(_,index){var value=range.start+index;return(value-range.start)%range.step==0?value:null})).filter((function(value){return null!=value}))):range.end===max-range.step+1?result.push(range.start+"/"+range.step):result.push(range.start+"-"+range.end+"/"+range.step)}else result.push(range.start+"-"+range.end)}else result.push(range.start)}return result.join(",")};function CronExpression$1(fields,options){this._options=options,this._utc=options.utc||!1,this._tz=this._utc?"UTC":options.tz,this._currentDate=new CronDate(options.currentDate,this._tz),this._startDate=options.startDate?new CronDate(options.startDate,this._tz):null,this._endDate=options.endDate?new CronDate(options.endDate,this._tz):null,this._isIterator=options.iterator||!1,this._hasIterated=!1,this._nthDayOfWeek=options.nthDayOfWeek||0,this.fields=CronExpression$1._freezeFields(fields)}CronExpression$1.map=["second","minute","hour","dayOfMonth","month","dayOfWeek"],CronExpression$1.predefined={"@yearly":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@hourly":"0 * * * *"},CronExpression$1.constraints=[{min:0,max:59,chars:[]},{min:0,max:59,chars:[]},{min:0,max:23,chars:[]},{min:1,max:31,chars:["L"]},{min:1,max:12,chars:[]},{min:0,max:7,chars:["L"]}],CronExpression$1.daysInMonth=[31,29,31,30,31,30,31,31,30,31,30,31],CronExpression$1.aliases={month:{jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},dayOfWeek:{sun:0,mon:1,tue:2,wed:3,thu:4,fri:5,sat:6}},CronExpression$1.parseDefaults=["0","*","*","*","*","*"],CronExpression$1.standardValidCharacters=/^[,*\d/-]+$/,CronExpression$1.dayOfWeekValidCharacters=/^[?,*\dL#/-]+$/,CronExpression$1.dayOfMonthValidCharacters=/^[?,*\dL/-]+$/,CronExpression$1.validCharacters={second:CronExpression$1.standardValidCharacters,minute:CronExpression$1.standardValidCharacters,hour:CronExpression$1.standardValidCharacters,dayOfMonth:CronExpression$1.dayOfMonthValidCharacters,month:CronExpression$1.standardValidCharacters,dayOfWeek:CronExpression$1.dayOfWeekValidCharacters},CronExpression$1._isValidConstraintChar=function(constraints,value){return"string"==typeof value&&constraints.chars.some((function(char){return value.indexOf(char)>-1}))},CronExpression$1._parseField=function(field,value,constraints){switch(field){case"month":case"dayOfWeek":var aliases=CronExpression$1.aliases[field];value=value.replace(/[a-z]{3}/gi,(function(match2){if(match2=match2.toLowerCase(),void 0!==aliases[match2])return aliases[match2];throw new Error('Validation error, cannot resolve alias "'+match2+'"')}))}if(!CronExpression$1.validCharacters[field].test(value))throw new Error("Invalid characters, got value: "+value);function parseRepeat(val){var atoms=val.split("/");if(atoms.length>2)throw new Error("Invalid repeat: "+val);return atoms.length>1?(atoms[0]==+atoms[0]&&(atoms=[atoms[0]+"-"+constraints.max,atoms[1]]),parseRange(atoms[0],atoms[atoms.length-1])):parseRange(val,1)}function parseRange(val,repeatInterval){var stack=[],atoms=val.split("-");if(atoms.length>1){if(atoms.length<2)return+val;if(!atoms[0].length){if(!atoms[1].length)throw new Error("Invalid range: "+val);return+val}var min=+atoms[0],max=+atoms[1];if(Number.isNaN(min)||Number.isNaN(max)||min<constraints.min||max>constraints.max)throw new Error("Constraint error, got range "+min+"-"+max+" expected range "+constraints.min+"-"+constraints.max);if(min>max)throw new Error("Invalid range: "+val);var repeatIndex=+repeatInterval;if(Number.isNaN(repeatIndex)||repeatIndex<=0)throw new Error("Constraint error, cannot repeat at every "+repeatIndex+" time.");"dayOfWeek"===field&&max%7==0&&stack.push(0);for(var index=min,count=max;index<=count;index++){!(-1!==stack.indexOf(index))&&repeatIndex>0&&repeatIndex%repeatInterval==0?(repeatIndex=1,stack.push(index)):repeatIndex++}return stack}return Number.isNaN(+val)?val:+val}return-1!==value.indexOf("*")?value=value.replace(/\*/g,constraints.min+"-"+constraints.max):-1!==value.indexOf("?")&&(value=value.replace(/\?/g,constraints.min+"-"+constraints.max)),function(val){var stack=[];function handleResult(result){if(result instanceof Array)for(var i2=0,c2=result.length;i2<c2;i2++){var value2=result[i2];if(CronExpression$1._isValidConstraintChar(constraints,value2))stack.push(value2);else{if("number"!=typeof value2||Number.isNaN(value2)||value2<constraints.min||value2>constraints.max)throw new Error("Constraint error, got value "+value2+" expected range "+constraints.min+"-"+constraints.max);stack.push(value2)}}else{if(CronExpression$1._isValidConstraintChar(constraints,result))return void stack.push(result);var numResult=+result;if(Number.isNaN(numResult)||numResult<constraints.min||numResult>constraints.max)throw new Error("Constraint error, got value "+result+" expected range "+constraints.min+"-"+constraints.max);"dayOfWeek"===field&&(numResult%=7),stack.push(numResult)}}var atoms=val.split(",");if(!atoms.every((function(atom){return atom.length>0})))throw new Error("Invalid list value format");if(atoms.length>1)for(var i=0,c=atoms.length;i<c;i++)handleResult(parseRepeat(atoms[i]));else handleResult(parseRepeat(val));return stack.sort(CronExpression$1._sortCompareFn),stack}(value)},CronExpression$1._sortCompareFn=function(a,b){var aIsNumber="number"==typeof a,bIsNumber="number"==typeof b;return aIsNumber&&bIsNumber?a-b:!aIsNumber&&bIsNumber?1:aIsNumber&&!bIsNumber?-1:a.localeCompare(b)},CronExpression$1._handleMaxDaysInMonth=function(mappedFields){if(1===mappedFields.month.length){var daysInMonth2=CronExpression$1.daysInMonth[mappedFields.month[0]-1];if(mappedFields.dayOfMonth[0]>daysInMonth2)throw new Error("Invalid explicit day of month definition");return mappedFields.dayOfMonth.filter((function(dayOfMonth){return"L"===dayOfMonth||dayOfMonth<=daysInMonth2})).sort(CronExpression$1._sortCompareFn)}},CronExpression$1._freezeFields=function(fields){for(var i=0,c=CronExpression$1.map.length;i<c;++i){var field=CronExpression$1.map[i],value=fields[field];fields[field]=Object.freeze(value)}return Object.freeze(fields)},CronExpression$1.prototype._applyTimezoneShift=function(currentDate,dateMathVerb,method){if("Month"===method||"Day"===method){var prevTime=currentDate.getTime();currentDate[dateMathVerb+method](),prevTime===currentDate.getTime()&&(0===currentDate.getMinutes()&&0===currentDate.getSeconds()?currentDate.addHour():59===currentDate.getMinutes()&&59===currentDate.getSeconds()&&currentDate.subtractHour())}else{var previousHour=currentDate.getHours();currentDate[dateMathVerb+method]();var currentHour=currentDate.getHours(),diff2=currentHour-previousHour;2===diff2?24!==this.fields.hour.length&&(this._dstStart=currentHour):0===diff2&&0===currentDate.getMinutes()&&0===currentDate.getSeconds()&&24!==this.fields.hour.length&&(this._dstEnd=currentHour)}},CronExpression$1.prototype._findSchedule=function(reverse){function matchSchedule(value,sequence){for(var i=0,c=sequence.length;i<c;i++)if(sequence[i]>=value)return sequence[i]===value;return sequence[0]===value}function isNthDayMatch(date2,nthDayOfWeek){if(nthDayOfWeek<6){if(date2.getDate()<8&&1===nthDayOfWeek)return!0;var offset2=date2.getDate()%7?1:0,adjustedDate=date2.getDate()-date2.getDate()%7;return Math.floor(adjustedDate/7)+offset2===nthDayOfWeek}return!1}function isLInExpressions(expressions){return expressions.length>0&&expressions.some((function(expression2){return"string"==typeof expression2&&expression2.indexOf("L")>=0}))}var dateMathVerb=(reverse=reverse||!1)?"subtract":"add",currentDate=new CronDate(this._currentDate,this._tz),startDate=this._startDate,endDate=this._endDate,startTimestamp=currentDate.getTime(),stepCount=0;for(;stepCount<1e4;){if(stepCount++,reverse){if(startDate&&currentDate.getTime()-startDate.getTime()<0)throw new Error("Out of the timespan range")}else if(endDate&&endDate.getTime()-currentDate.getTime()<0)throw new Error("Out of the timespan range");var dayOfMonthMatch=matchSchedule(currentDate.getDate(),this.fields.dayOfMonth);isLInExpressions(this.fields.dayOfMonth)&&(dayOfMonthMatch=dayOfMonthMatch||currentDate.isLastDayOfMonth());var dayOfWeekMatch=matchSchedule(currentDate.getDay(),this.fields.dayOfWeek);isLInExpressions(this.fields.dayOfWeek)&&(dayOfWeekMatch=dayOfWeekMatch||this.fields.dayOfWeek.some((function(expression2){if(!isLInExpressions([expression2]))return!1;var weekday=Number.parseInt(expression2[0])%7;if(Number.isNaN(weekday))throw new Error("Invalid last weekday of the month expression: "+expression2);return currentDate.getDay()===weekday&&currentDate.isLastWeekdayOfMonth()})));var isDayOfMonthWildcardMatch=this.fields.dayOfMonth.length>=CronExpression$1.daysInMonth[currentDate.getMonth()],isDayOfWeekWildcardMatch=this.fields.dayOfWeek.length===CronExpression$1.constraints[5].max-CronExpression$1.constraints[5].min+1,currentHour=currentDate.getHours();if(dayOfMonthMatch||dayOfWeekMatch&&!isDayOfWeekWildcardMatch)if(isDayOfMonthWildcardMatch||!isDayOfWeekWildcardMatch||dayOfMonthMatch)if(!isDayOfMonthWildcardMatch||isDayOfWeekWildcardMatch||dayOfWeekMatch)if(this._nthDayOfWeek>0&&!isNthDayMatch(currentDate,this._nthDayOfWeek))this._applyTimezoneShift(currentDate,dateMathVerb,"Day");else if(matchSchedule(currentDate.getMonth()+1,this.fields.month)){if(matchSchedule(currentHour,this.fields.hour)){if(this._dstEnd===currentHour&&!reverse){this._dstEnd=null,this._applyTimezoneShift(currentDate,"add","Hour");continue}}else{if(this._dstStart!==currentHour){this._dstStart=null,this._applyTimezoneShift(currentDate,dateMathVerb,"Hour");continue}if(!matchSchedule(currentHour-1,this.fields.hour)){currentDate[dateMathVerb+"Hour"]();continue}}if(matchSchedule(currentDate.getMinutes(),this.fields.minute))if(matchSchedule(currentDate.getSeconds(),this.fields.second)){if(startTimestamp!==currentDate.getTime())break;"add"===dateMathVerb||0===currentDate.getMilliseconds()?this._applyTimezoneShift(currentDate,dateMathVerb,"Second"):currentDate.setMilliseconds(0)}else this._applyTimezoneShift(currentDate,dateMathVerb,"Second");else this._applyTimezoneShift(currentDate,dateMathVerb,"Minute")}else this._applyTimezoneShift(currentDate,dateMathVerb,"Month");else this._applyTimezoneShift(currentDate,dateMathVerb,"Day");else this._applyTimezoneShift(currentDate,dateMathVerb,"Day");else this._applyTimezoneShift(currentDate,dateMathVerb,"Day")}if(stepCount>=1e4)throw new Error("Invalid expression, loop limit exceeded");return this._currentDate=new CronDate(currentDate,this._tz),this._hasIterated=!0,currentDate},CronExpression$1.prototype.next=function(){var schedule=this._findSchedule();return this._isIterator?{value:schedule,done:!this.hasNext()}:schedule},CronExpression$1.prototype.prev=function(){var schedule=this._findSchedule(!0);return this._isIterator?{value:schedule,done:!this.hasPrev()}:schedule},CronExpression$1.prototype.hasNext=function(){var current=this._currentDate,hasIterated=this._hasIterated;try{return this._findSchedule(),!0}catch(err){return!1}finally{this._currentDate=current,this._hasIterated=hasIterated}},CronExpression$1.prototype.hasPrev=function(){var current=this._currentDate,hasIterated=this._hasIterated;try{return this._findSchedule(!0),!0}catch(err){return!1}finally{this._currentDate=current,this._hasIterated=hasIterated}},CronExpression$1.prototype.iterate=function(steps,callback){var dates=[];if(steps>=0)for(var i=0,c=steps;i<c;i++)try{var item=this.next();dates.push(item),callback&&callback(item,i)}catch(err){break}else for(i=0,c=steps;i>c;i--)try{item=this.prev();dates.push(item),callback&&callback(item,i)}catch(err){break}return dates},CronExpression$1.prototype.reset=function(newDate){this._currentDate=new CronDate(newDate||this._options.currentDate)},CronExpression$1.prototype.stringify=function(includeSeconds){for(var resultArr=[],i=includeSeconds?0:1,c=CronExpression$1.map.length;i<c;++i){var field=CronExpression$1.map[i],value=this.fields[field],constraint=CronExpression$1.constraints[i];"dayOfMonth"===field&&1===this.fields.month.length?constraint={min:1,max:CronExpression$1.daysInMonth[this.fields.month[0]-1]}:"dayOfWeek"===field&&(constraint={min:0,max:6},value=7===value[value.length-1]?value.slice(0,-1):value),resultArr.push(stringifyField(value,constraint.min,constraint.max))}return resultArr.join(" ")},CronExpression$1.parse=function(expression2,options){var self=this;return"function"==typeof options&&(options={}),function(expression3,options2){options2||(options2={}),void 0===options2.currentDate&&(options2.currentDate=new CronDate(void 0,self._tz)),CronExpression$1.predefined[expression3]&&(expression3=CronExpression$1.predefined[expression3]);var fields=[],atoms=(expression3+"").trim().split(/\s+/);if(atoms.length>6)throw new Error("Invalid cron expression");for(var start=CronExpression$1.map.length-atoms.length,i=0,c=CronExpression$1.map.length;i<c;++i){var field=CronExpression$1.map[i],value=atoms[atoms.length>c?i:i-start];if(i<start||!value)fields.push(CronExpression$1._parseField(field,CronExpression$1.parseDefaults[i],CronExpression$1.constraints[i]));else{var val="dayOfWeek"===field?parseNthDay(value):value;fields.push(CronExpression$1._parseField(field,val,CronExpression$1.constraints[i]))}}var mappedFields={};for(i=0,c=CronExpression$1.map.length;i<c;i++){mappedFields[CronExpression$1.map[i]]=fields[i]}var dayOfMonth=CronExpression$1._handleMaxDaysInMonth(mappedFields);return mappedFields.dayOfMonth=dayOfMonth||mappedFields.dayOfMonth,new CronExpression$1(mappedFields,options2);function parseNthDay(val2){var atoms2=val2.split("#");if(atoms2.length>1){var nthValue=+atoms2[atoms2.length-1];if(/,/.test(val2))throw new Error("Constraint error, invalid dayOfWeek `#` and `,` special characters are incompatible");if(/\//.test(val2))throw new Error("Constraint error, invalid dayOfWeek `#` and `/` special characters are incompatible");if(/-/.test(val2))throw new Error("Constraint error, invalid dayOfWeek `#` and `-` special characters are incompatible");if(atoms2.length>2||Number.isNaN(nthValue)||nthValue<1||nthValue>5)throw new Error("Constraint error, invalid dayOfWeek occurrence number (#)");return options2.nthDayOfWeek=nthValue,atoms2[0]}return val2}}(expression2,options)},CronExpression$1.fieldsToExpression=function(fields,options){function validateConstraints(field2,values2,constraints){if(!values2)throw new Error("Validation error, Field "+field2+" is missing");if(0===values2.length)throw new Error("Validation error, Field "+field2+" contains no values");for(var i2=0,c2=values2.length;i2<c2;i2++){var value=values2[i2];if(!CronExpression$1._isValidConstraintChar(constraints,value)&&("number"!=typeof value||Number.isNaN(value)||value<constraints.min||value>constraints.max))throw new Error("Constraint error, got value "+value+" expected range "+constraints.min+"-"+constraints.max)}}for(var mappedFields={},i=0,c=CronExpression$1.map.length;i<c;++i){var field=CronExpression$1.map[i],values=fields[field];validateConstraints(field,values,CronExpression$1.constraints[i]);for(var copy=[],j=-1;++j<values.length;)copy[j]=values[j];if((values=copy.sort(CronExpression$1._sortCompareFn).filter((function(item,pos,ary){return!pos||item!==ary[pos-1]}))).length!==copy.length)throw new Error("Validation error, Field "+field+" contains duplicate values");mappedFields[field]=values}var dayOfMonth=CronExpression$1._handleMaxDaysInMonth(mappedFields);return mappedFields.dayOfMonth=dayOfMonth||mappedFields.dayOfMonth,new CronExpression$1(mappedFields,options||{})};var CronExpression=CronExpression$1;function CronParser(){}CronParser._parseEntry=function(entry){var atoms=entry.split(" ");if(6===atoms.length)return{interval:CronExpression.parse(entry)};if(atoms.length>6)return{interval:CronExpression.parse(atoms.slice(0,6).join(" ")),command:atoms.slice(6,atoms.length)};throw new Error("Invalid entry: "+entry)},CronParser.parseExpression=function(expression2,options){return CronExpression.parse(expression2,options)},CronParser.fieldsToExpression=function(fields,options){return CronExpression.fieldsToExpression(fields,options)},CronParser.parseString=function(data){for(var blocks=data.split("\n"),response={variables:{},expressions:[],errors:{}},i=0,c=blocks.length;i<c;i++){var matches=null,entry=blocks[i].trim();if(entry.length>0){if(entry.match(/^#/))continue;if(matches=entry.match(/^(.*)=(.*)$/))response.variables[matches[1]]=matches[2];else{var result=null;try{result=CronParser._parseEntry("0 "+entry),response.expressions.push(result.interval)}catch(err){response.errors[entry]=err}}}}return response},CronParser.parseFile=function(filePath,callback){require$$1.readFile(filePath,(function(err,data){if(!err)return callback(null,CronParser.parseString(data.toString()));callback(err)}))};const CronParser$1=getDefaultExportFromCjs(CronParser);var TypeEnum=(TypeEnum2=>(TypeEnum2.unset="UNSET",TypeEnum2.every="EVERY",TypeEnum2.range="RANGE",TypeEnum2.loop="LOOP",TypeEnum2.work="WORK",TypeEnum2.last="LAST",TypeEnum2.specify="SPECIFY",TypeEnum2))(TypeEnum||{});function useTabProps(options){var _a;const defaultValue=null!=(_a=null==options?void 0:options.defaultValue)?_a:"?";return __spreadValues({value:propTypes.string.def(defaultValue),disabled:propTypes.bool.def(!1)},null==options?void 0:options.props)}function useTabSetup(props,context,options){var _a,_b;const{emit:emit}=context,prefixCls=inject("prefixCls"),defaultValue=ref(null!=(_a=null==options?void 0:options.defaultValue)?_a:"?"),type=ref(null!=(_b=options.defaultType)?_b:"EVERY"),valueList=ref([]),valueRange=reactive(options.valueRange),valueLoop=reactive(options.valueLoop),valueWeek=reactive(options.valueWeek),valueWork=ref(options.valueWork),maxValue=ref(options.maxValue),minValue=ref(options.minValue),computeValue=computed((()=>{let valueArray=[];switch(type.value){case"UNSET":valueArray.push("?");break;case"EVERY":valueArray.push("*");break;case"RANGE":valueArray.push(`${valueRange.start}-${valueRange.end}`);break;case"LOOP":valueArray.push(`${valueLoop.start}/${valueLoop.interval}`);break;case"WORK":valueArray.push(`${valueWork.value}W`);break;case"LAST":valueArray.push("L");break;case"SPECIFY":0===valueList.value.length&&valueList.value.push(minValue.value),valueArray.push(valueList.value.join(","));break;default:valueArray.push(defaultValue.value)}return valueArray.length>0?valueArray.join(""):defaultValue.value})),specifyRange=computed((()=>{let range=[];if(null!=maxValue.value)for(let i=minValue.value;i<=maxValue.value;i++)range.push(i);return range}));function updateValue(value){emit("change",value),emit("update:value",value)}function parseValue(value){if(value!==computeValue.value)try{if(value&&value!==defaultValue.value)if(value.indexOf("?")>=0)type.value="UNSET";else if(value.indexOf("-")>=0){type.value="RANGE";const values=value.split("-");values.length>=2&&(valueRange.start=parseInt(values[0]),valueRange.end=parseInt(values[1]))}else if(value.indexOf("/")>=0){type.value="LOOP";const values=value.split("/");values.length>=2&&(valueLoop.start="*"===value[0]?0:parseInt(values[0]),valueLoop.interval=parseInt(values[1]))}else if(value.indexOf("W")>=0){type.value="WORK";const values=value.split("W");values[0]||isNaN(values[0])||(valueWork.value=parseInt(values[0]))}else value.indexOf("L")>=0?type.value="LAST":value.indexOf(",")>=0||!isNaN(value)?(type.value="SPECIFY",valueList.value=value.split(",").map((item=>parseInt(item)))):type.value="EVERY";else type.value="EVERY"}catch(e){type.value="EVERY"}}watch((()=>props.value),(val=>{val!==computeValue.value&&parseValue(val)}),{immediate:!0}),watch(computeValue,(v=>updateValue(v)));const beforeRadioAttrs=computed((()=>({class:["choice"],disabled:props.disabled||unref(options.disabled)}))),inputNumberAttrs=computed((()=>({class:["w60"],max:maxValue.value,min:minValue.value,precision:0}))),typeRangeAttrs=computed((()=>__spreadValues({disabled:"RANGE"!==type.value||props.disabled||unref(options.disabled)},inputNumberAttrs.value))),typeLoopAttrs=computed((()=>__spreadValues({disabled:"LOOP"!==type.value||props.disabled||unref(options.disabled)},inputNumberAttrs.value))),typeSpecifyAttrs=computed((()=>({disabled:"SPECIFY"!==type.value||props.disabled||unref(options.disabled),class:["list-check-item"]})));return{type:type,TypeEnum:TypeEnum,prefixCls:prefixCls,defaultValue:defaultValue,valueRange:valueRange,valueLoop:valueLoop,valueWeek:valueWeek,valueList:valueList,valueWork:valueWork,maxValue:maxValue,minValue:minValue,computeValue:computeValue,specifyRange:specifyRange,updateValue:updateValue,parseValue:parseValue,beforeRadioAttrs:beforeRadioAttrs,inputNumberAttrs:inputNumberAttrs,typeRangeAttrs:typeRangeAttrs,typeLoopAttrs:typeLoopAttrs,typeSpecifyAttrs:typeSpecifyAttrs}}const _sfc_main$a=defineComponent({name:"SecondUI",components:{InputNumber:InputNumber},props:useTabProps({defaultValue:"*"}),emits:["change","update:value"],setup:(props,context)=>useTabSetup(props,context,{defaultValue:"*",minValue:0,maxValue:59,valueRange:{start:0,end:59},valueLoop:{start:0,interval:1}})}),_hoisted_1$8={class:"item"},_hoisted_2$8={class:"item"},_hoisted_3$6=createBaseVNode("span",null," 从 ",-1),_hoisted_4$6=createBaseVNode("span",null," 秒 至 ",-1),_hoisted_5$6=createBaseVNode("span",null," 秒 ",-1),_hoisted_6$6={class:"item"},_hoisted_7$6=createBaseVNode("span",null," 从 ",-1),_hoisted_8$6=createBaseVNode("span",null," 秒开始，间隔 ",-1),_hoisted_9$6=createBaseVNode("span",null," 秒 ",-1),_hoisted_10$5={class:"item"},_hoisted_11$5={class:"list"};const SecondUI=_export_sfc(_sfc_main$a,[["render",function(_ctx,_cache,$props,$setup,$data,$options){const _component_a_radio=resolveComponent("a-radio"),_component_InputNumber=resolveComponent("InputNumber"),_component_a_checkbox=resolveComponent("a-checkbox"),_component_a_checkbox_group=resolveComponent("a-checkbox-group"),_component_a_radio_group=resolveComponent("a-radio-group");return openBlock(),createElementBlock("div",{class:normalizeClass(`${_ctx.prefixCls}-config-list`)},[createVNode(_component_a_radio_group,{value:_ctx.type,"onUpdate:value":_cache[5]||(_cache[5]=$event=>_ctx.type=$event)},{default:withCtx((()=>[createBaseVNode("div",_hoisted_1$8,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.every},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("每秒")])),_:1},16,["value"])]),createBaseVNode("div",_hoisted_2$8,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.range},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("区间")])),_:1},16,["value"]),_hoisted_3$6,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueRange.start,"onUpdate:value":_cache[0]||(_cache[0]=$event=>_ctx.valueRange.start=$event)},_ctx.typeRangeAttrs),null,16,["value"]),_hoisted_4$6,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueRange.end,"onUpdate:value":_cache[1]||(_cache[1]=$event=>_ctx.valueRange.end=$event)},_ctx.typeRangeAttrs),null,16,["value"]),_hoisted_5$6]),createBaseVNode("div",_hoisted_6$6,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.loop},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("循环")])),_:1},16,["value"]),_hoisted_7$6,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueLoop.start,"onUpdate:value":_cache[2]||(_cache[2]=$event=>_ctx.valueLoop.start=$event)},_ctx.typeLoopAttrs),null,16,["value"]),_hoisted_8$6,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueLoop.interval,"onUpdate:value":_cache[3]||(_cache[3]=$event=>_ctx.valueLoop.interval=$event)},_ctx.typeLoopAttrs),null,16,["value"]),_hoisted_9$6]),createBaseVNode("div",_hoisted_10$5,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.specify},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("指定")])),_:1},16,["value"]),createBaseVNode("div",_hoisted_11$5,[createVNode(_component_a_checkbox_group,{value:_ctx.valueList,"onUpdate:value":_cache[4]||(_cache[4]=$event=>_ctx.valueList=$event)},{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(_ctx.specifyRange,(i=>(openBlock(),createBlock(_component_a_checkbox,mergeProps({key:i,value:i},_ctx.typeSpecifyAttrs),{default:withCtx((()=>[createTextVNode(toDisplayString(i),1)])),_:2},1040,["value"])))),128))])),_:1},8,["value"])])])])),_:1},8,["value"])],2)}]]),_sfc_main$9=defineComponent({name:"MinuteUI",components:{InputNumber:InputNumber},props:useTabProps({defaultValue:"*"}),emits:["change","update:value"],setup:(props,context)=>useTabSetup(props,context,{defaultValue:"*",minValue:0,maxValue:59,valueRange:{start:0,end:59},valueLoop:{start:0,interval:1}})}),_hoisted_1$7={class:"item"},_hoisted_2$7={class:"item"},_hoisted_3$5=createBaseVNode("span",null," 从 ",-1),_hoisted_4$5=createBaseVNode("span",null," 分 至 ",-1),_hoisted_5$5=createBaseVNode("span",null," 分 ",-1),_hoisted_6$5={class:"item"},_hoisted_7$5=createBaseVNode("span",null," 从 ",-1),_hoisted_8$5=createBaseVNode("span",null," 分开始，间隔 ",-1),_hoisted_9$5=createBaseVNode("span",null," 分 ",-1),_hoisted_10$4={class:"item"},_hoisted_11$4={class:"list"};const MinuteUI=_export_sfc(_sfc_main$9,[["render",function(_ctx,_cache,$props,$setup,$data,$options){const _component_a_radio=resolveComponent("a-radio"),_component_InputNumber=resolveComponent("InputNumber"),_component_a_checkbox=resolveComponent("a-checkbox"),_component_a_checkbox_group=resolveComponent("a-checkbox-group"),_component_a_radio_group=resolveComponent("a-radio-group");return openBlock(),createElementBlock("div",{class:normalizeClass(`${_ctx.prefixCls}-config-list`)},[createVNode(_component_a_radio_group,{value:_ctx.type,"onUpdate:value":_cache[5]||(_cache[5]=$event=>_ctx.type=$event)},{default:withCtx((()=>[createBaseVNode("div",_hoisted_1$7,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.every},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("每分")])),_:1},16,["value"])]),createBaseVNode("div",_hoisted_2$7,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.range},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("区间")])),_:1},16,["value"]),_hoisted_3$5,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueRange.start,"onUpdate:value":_cache[0]||(_cache[0]=$event=>_ctx.valueRange.start=$event)},_ctx.typeRangeAttrs),null,16,["value"]),_hoisted_4$5,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueRange.end,"onUpdate:value":_cache[1]||(_cache[1]=$event=>_ctx.valueRange.end=$event)},_ctx.typeRangeAttrs),null,16,["value"]),_hoisted_5$5]),createBaseVNode("div",_hoisted_6$5,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.loop},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("循环")])),_:1},16,["value"]),_hoisted_7$5,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueLoop.start,"onUpdate:value":_cache[2]||(_cache[2]=$event=>_ctx.valueLoop.start=$event)},_ctx.typeLoopAttrs),null,16,["value"]),_hoisted_8$5,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueLoop.interval,"onUpdate:value":_cache[3]||(_cache[3]=$event=>_ctx.valueLoop.interval=$event)},_ctx.typeLoopAttrs),null,16,["value"]),_hoisted_9$5]),createBaseVNode("div",_hoisted_10$4,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.specify},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("指定")])),_:1},16,["value"]),createBaseVNode("div",_hoisted_11$4,[createVNode(_component_a_checkbox_group,{value:_ctx.valueList,"onUpdate:value":_cache[4]||(_cache[4]=$event=>_ctx.valueList=$event)},{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(_ctx.specifyRange,(i=>(openBlock(),createBlock(_component_a_checkbox,mergeProps({key:i,value:i},_ctx.typeSpecifyAttrs),{default:withCtx((()=>[createTextVNode(toDisplayString(i),1)])),_:2},1040,["value"])))),128))])),_:1},8,["value"])])])])),_:1},8,["value"])],2)}]]),_sfc_main$8=defineComponent({name:"HourUI",components:{InputNumber:InputNumber},props:useTabProps({defaultValue:"*"}),emits:["change","update:value"],setup:(props,context)=>useTabSetup(props,context,{defaultValue:"*",minValue:0,maxValue:23,valueRange:{start:0,end:23},valueLoop:{start:0,interval:1}})}),_hoisted_1$6={class:"item"},_hoisted_2$6={class:"item"},_hoisted_3$4=createBaseVNode("span",null," 从 ",-1),_hoisted_4$4=createBaseVNode("span",null," 时 至 ",-1),_hoisted_5$4=createBaseVNode("span",null," 时 ",-1),_hoisted_6$4={class:"item"},_hoisted_7$4=createBaseVNode("span",null," 从 ",-1),_hoisted_8$4=createBaseVNode("span",null," 时开始，间隔 ",-1),_hoisted_9$4=createBaseVNode("span",null," 时 ",-1),_hoisted_10$3={class:"item"},_hoisted_11$3={class:"list"};const HourUI=_export_sfc(_sfc_main$8,[["render",function(_ctx,_cache,$props,$setup,$data,$options){const _component_a_radio=resolveComponent("a-radio"),_component_InputNumber=resolveComponent("InputNumber"),_component_a_checkbox=resolveComponent("a-checkbox"),_component_a_checkbox_group=resolveComponent("a-checkbox-group"),_component_a_radio_group=resolveComponent("a-radio-group");return openBlock(),createElementBlock("div",{class:normalizeClass(`${_ctx.prefixCls}-config-list`)},[createVNode(_component_a_radio_group,{value:_ctx.type,"onUpdate:value":_cache[5]||(_cache[5]=$event=>_ctx.type=$event)},{default:withCtx((()=>[createBaseVNode("div",_hoisted_1$6,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.every},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("每时")])),_:1},16,["value"])]),createBaseVNode("div",_hoisted_2$6,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.range},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("区间")])),_:1},16,["value"]),_hoisted_3$4,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueRange.start,"onUpdate:value":_cache[0]||(_cache[0]=$event=>_ctx.valueRange.start=$event)},_ctx.typeRangeAttrs),null,16,["value"]),_hoisted_4$4,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueRange.end,"onUpdate:value":_cache[1]||(_cache[1]=$event=>_ctx.valueRange.end=$event)},_ctx.typeRangeAttrs),null,16,["value"]),_hoisted_5$4]),createBaseVNode("div",_hoisted_6$4,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.loop},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("循环")])),_:1},16,["value"]),_hoisted_7$4,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueLoop.start,"onUpdate:value":_cache[2]||(_cache[2]=$event=>_ctx.valueLoop.start=$event)},_ctx.typeLoopAttrs),null,16,["value"]),_hoisted_8$4,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueLoop.interval,"onUpdate:value":_cache[3]||(_cache[3]=$event=>_ctx.valueLoop.interval=$event)},_ctx.typeLoopAttrs),null,16,["value"]),_hoisted_9$4]),createBaseVNode("div",_hoisted_10$3,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.specify},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("指定")])),_:1},16,["value"]),createBaseVNode("div",_hoisted_11$3,[createVNode(_component_a_checkbox_group,{value:_ctx.valueList,"onUpdate:value":_cache[4]||(_cache[4]=$event=>_ctx.valueList=$event)},{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(_ctx.specifyRange,(i=>(openBlock(),createBlock(_component_a_checkbox,mergeProps({key:i,value:i},_ctx.typeSpecifyAttrs),{default:withCtx((()=>[createTextVNode(toDisplayString(i),1)])),_:2},1040,["value"])))),128))])),_:1},8,["value"])])])])),_:1},8,["value"])],2)}]]),_sfc_main$7=defineComponent({name:"DayUI",components:{InputNumber:InputNumber},props:useTabProps({defaultValue:"*",props:{week:{type:String,default:"?"}}}),emits:["change","update:value"],setup(props,context){const disabledChoice=computed((()=>props.week&&"?"!==props.week||props.disabled)),setup=useTabSetup(props,context,{defaultValue:"*",valueWork:1,minValue:1,maxValue:31,valueRange:{start:1,end:31},valueLoop:{start:1,interval:1},disabled:disabledChoice}),typeWorkAttrs=computed((()=>__spreadValues({disabled:setup.type.value!==TypeEnum.work||props.disabled||disabledChoice.value},setup.inputNumberAttrs.value)));return watch((()=>props.week),(()=>{setup.updateValue(disabledChoice.value?"?":setup.computeValue.value)})),__spreadProps(__spreadValues({},setup),{typeWorkAttrs:typeWorkAttrs})}}),_hoisted_1$5={class:"item"},_hoisted_2$5=createBaseVNode("span",{class:"tip-info"},"日和周只能设置其中之一",-1),_hoisted_3$3={class:"item"},_hoisted_4$3={class:"item"},_hoisted_5$3=createBaseVNode("span",null," 从 ",-1),_hoisted_6$3=createBaseVNode("span",null," 日 至 ",-1),_hoisted_7$3=createBaseVNode("span",null," 日 ",-1),_hoisted_8$3={class:"item"},_hoisted_9$3=createBaseVNode("span",null," 从 ",-1),_hoisted_10$2=createBaseVNode("span",null," 日开始，间隔 ",-1),_hoisted_11$2=createBaseVNode("span",null," 日 ",-1),_hoisted_12={class:"item"},_hoisted_13={class:"item"},_hoisted_14={class:"list"};const DayUI=_export_sfc(_sfc_main$7,[["render",function(_ctx,_cache,$props,$setup,$data,$options){const _component_a_radio=resolveComponent("a-radio"),_component_InputNumber=resolveComponent("InputNumber"),_component_a_checkbox=resolveComponent("a-checkbox"),_component_a_checkbox_group=resolveComponent("a-checkbox-group"),_component_a_radio_group=resolveComponent("a-radio-group");return openBlock(),createElementBlock("div",{class:normalizeClass(`${_ctx.prefixCls}-config-list`)},[createVNode(_component_a_radio_group,{value:_ctx.type,"onUpdate:value":_cache[5]||(_cache[5]=$event=>_ctx.type=$event)},{default:withCtx((()=>[createBaseVNode("div",_hoisted_1$5,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.unset},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("不设置")])),_:1},16,["value"]),_hoisted_2$5]),createBaseVNode("div",_hoisted_3$3,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.every},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("每日")])),_:1},16,["value"])]),createBaseVNode("div",_hoisted_4$3,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.range},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("区间")])),_:1},16,["value"]),_hoisted_5$3,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueRange.start,"onUpdate:value":_cache[0]||(_cache[0]=$event=>_ctx.valueRange.start=$event)},_ctx.typeRangeAttrs),null,16,["value"]),_hoisted_6$3,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueRange.end,"onUpdate:value":_cache[1]||(_cache[1]=$event=>_ctx.valueRange.end=$event)},_ctx.typeRangeAttrs),null,16,["value"]),_hoisted_7$3]),createBaseVNode("div",_hoisted_8$3,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.loop},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("循环")])),_:1},16,["value"]),_hoisted_9$3,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueLoop.start,"onUpdate:value":_cache[2]||(_cache[2]=$event=>_ctx.valueLoop.start=$event)},_ctx.typeLoopAttrs),null,16,["value"]),_hoisted_10$2,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueLoop.interval,"onUpdate:value":_cache[3]||(_cache[3]=$event=>_ctx.valueLoop.interval=$event)},_ctx.typeLoopAttrs),null,16,["value"]),_hoisted_11$2]),createBaseVNode("div",_hoisted_12,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.last},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("最后一日")])),_:1},16,["value"])]),createBaseVNode("div",_hoisted_13,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.specify},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("指定")])),_:1},16,["value"]),createBaseVNode("div",_hoisted_14,[createVNode(_component_a_checkbox_group,{value:_ctx.valueList,"onUpdate:value":_cache[4]||(_cache[4]=$event=>_ctx.valueList=$event)},{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(_ctx.specifyRange,(i=>(openBlock(),createBlock(_component_a_checkbox,mergeProps({key:i,value:i},_ctx.typeSpecifyAttrs),{default:withCtx((()=>[createTextVNode(toDisplayString(i),1)])),_:2},1040,["value"])))),128))])),_:1},8,["value"])])])])),_:1},8,["value"])],2)}]]),_sfc_main$6=defineComponent({name:"MonthUI",components:{InputNumber:InputNumber},props:useTabProps({defaultValue:"*"}),emits:["change","update:value"],setup:(props,context)=>useTabSetup(props,context,{defaultValue:"*",minValue:1,maxValue:12,valueRange:{start:1,end:12},valueLoop:{start:1,interval:1}})}),_hoisted_1$4={class:"item"},_hoisted_2$4={class:"item"},_hoisted_3$2=createBaseVNode("span",null," 从 ",-1),_hoisted_4$2=createBaseVNode("span",null," 月 至 ",-1),_hoisted_5$2=createBaseVNode("span",null," 月 ",-1),_hoisted_6$2={class:"item"},_hoisted_7$2=createBaseVNode("span",null," 从 ",-1),_hoisted_8$2=createBaseVNode("span",null," 月开始，间隔 ",-1),_hoisted_9$2=createBaseVNode("span",null," 月 ",-1),_hoisted_10$1={class:"item"},_hoisted_11$1={class:"list"};const MonthUI=_export_sfc(_sfc_main$6,[["render",function(_ctx,_cache,$props,$setup,$data,$options){const _component_a_radio=resolveComponent("a-radio"),_component_InputNumber=resolveComponent("InputNumber"),_component_a_checkbox=resolveComponent("a-checkbox"),_component_a_checkbox_group=resolveComponent("a-checkbox-group"),_component_a_radio_group=resolveComponent("a-radio-group");return openBlock(),createElementBlock("div",{class:normalizeClass(`${_ctx.prefixCls}-config-list`)},[createVNode(_component_a_radio_group,{value:_ctx.type,"onUpdate:value":_cache[5]||(_cache[5]=$event=>_ctx.type=$event)},{default:withCtx((()=>[createBaseVNode("div",_hoisted_1$4,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.every},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("每月")])),_:1},16,["value"])]),createBaseVNode("div",_hoisted_2$4,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.range},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("区间")])),_:1},16,["value"]),_hoisted_3$2,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueRange.start,"onUpdate:value":_cache[0]||(_cache[0]=$event=>_ctx.valueRange.start=$event)},_ctx.typeRangeAttrs),null,16,["value"]),_hoisted_4$2,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueRange.end,"onUpdate:value":_cache[1]||(_cache[1]=$event=>_ctx.valueRange.end=$event)},_ctx.typeRangeAttrs),null,16,["value"]),_hoisted_5$2]),createBaseVNode("div",_hoisted_6$2,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.loop},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("循环")])),_:1},16,["value"]),_hoisted_7$2,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueLoop.start,"onUpdate:value":_cache[2]||(_cache[2]=$event=>_ctx.valueLoop.start=$event)},_ctx.typeLoopAttrs),null,16,["value"]),_hoisted_8$2,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueLoop.interval,"onUpdate:value":_cache[3]||(_cache[3]=$event=>_ctx.valueLoop.interval=$event)},_ctx.typeLoopAttrs),null,16,["value"]),_hoisted_9$2]),createBaseVNode("div",_hoisted_10$1,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.specify},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("指定")])),_:1},16,["value"]),createBaseVNode("div",_hoisted_11$1,[createVNode(_component_a_checkbox_group,{value:_ctx.valueList,"onUpdate:value":_cache[4]||(_cache[4]=$event=>_ctx.valueList=$event)},{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(_ctx.specifyRange,(i=>(openBlock(),createBlock(_component_a_checkbox,mergeProps({key:i,value:i},_ctx.typeSpecifyAttrs),{default:withCtx((()=>[createTextVNode(toDisplayString(i),1)])),_:2},1040,["value"])))),128))])),_:1},8,["value"])])])])),_:1},8,["value"])],2)}]]),WEEK_MAP_EN={1:"SUN",2:"MON",3:"TUE",4:"WED",5:"THU",6:"FRI",7:"SAT"},WEEK_MAP_CN={1:"周日",2:"周一",3:"周二",4:"周三",5:"周四",6:"周五",7:"周六"},_sfc_main$5=defineComponent({name:"WeekUI",components:{InputNumber:InputNumber},props:useTabProps({defaultValue:"?",props:{day:{type:String,default:"*"}}}),emits:["change","update:value"],setup(props,context){const disabledChoice=computed((()=>props.day&&"?"!==props.day||props.disabled)),setup=useTabSetup(props,context,{defaultType:TypeEnum.unset,defaultValue:"?",minValue:1,maxValue:7,valueRange:{start:1,end:7},valueLoop:{start:2,interval:1},disabled:disabledChoice}),weekOptions=computed((()=>{let options=[];for(let weekKey of Object.keys(WEEK_MAP_CN)){let weekName=WEEK_MAP_CN[weekKey];options.push({value:Number.parseInt(weekKey),label:weekName})}return options})),typeRangeSelectAttrs=computed((()=>({class:["w80"],disabled:setup.typeRangeAttrs.value.disabled}))),typeLoopSelectAttrs=computed((()=>({class:["w80"],disabled:setup.typeLoopAttrs.value.disabled})));return watch((()=>props.day),(()=>{setup.updateValue(disabledChoice.value?"?":setup.computeValue.value)})),__spreadProps(__spreadValues({},setup),{weekOptions:weekOptions,typeLoopSelectAttrs:typeLoopSelectAttrs,typeRangeSelectAttrs:typeRangeSelectAttrs,WEEK_MAP_CN:WEEK_MAP_CN,WEEK_MAP_EN:WEEK_MAP_EN})}}),_hoisted_1$3={class:"item"},_hoisted_2$3=createBaseVNode("span",{class:"tip-info"},"日和周只能设置其中之一",-1),_hoisted_3$1={class:"item"},_hoisted_4$1=createBaseVNode("span",null," 从 ",-1),_hoisted_5$1=createBaseVNode("span",null," 至 ",-1),_hoisted_6$1={class:"item"},_hoisted_7$1=createBaseVNode("span",null," 从 ",-1),_hoisted_8$1=createBaseVNode("span",null," 开始，间隔 ",-1),_hoisted_9$1=createBaseVNode("span",null," 天 ",-1),_hoisted_10={class:"item"},_hoisted_11={class:"list list-cn"};const WeekUI=_export_sfc(_sfc_main$5,[["render",function(_ctx,_cache,$props,$setup,$data,$options){const _component_a_radio=resolveComponent("a-radio"),_component_a_select=resolveComponent("a-select"),_component_InputNumber=resolveComponent("InputNumber"),_component_a_checkbox=resolveComponent("a-checkbox"),_component_a_checkbox_group=resolveComponent("a-checkbox-group"),_component_a_radio_group=resolveComponent("a-radio-group");return openBlock(),createElementBlock("div",{class:normalizeClass(`${_ctx.prefixCls}-config-list`)},[createVNode(_component_a_radio_group,{value:_ctx.type,"onUpdate:value":_cache[5]||(_cache[5]=$event=>_ctx.type=$event)},{default:withCtx((()=>[createBaseVNode("div",_hoisted_1$3,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.unset},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("不设置")])),_:1},16,["value"]),_hoisted_2$3]),createBaseVNode("div",_hoisted_3$1,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.range},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("区间")])),_:1},16,["value"]),_hoisted_4$1,createVNode(_component_a_select,mergeProps({value:_ctx.valueRange.start,"onUpdate:value":_cache[0]||(_cache[0]=$event=>_ctx.valueRange.start=$event),options:_ctx.weekOptions},_ctx.typeRangeSelectAttrs),null,16,["value","options"]),_hoisted_5$1,createVNode(_component_a_select,mergeProps({value:_ctx.valueRange.end,"onUpdate:value":_cache[1]||(_cache[1]=$event=>_ctx.valueRange.end=$event),options:_ctx.weekOptions},_ctx.typeRangeSelectAttrs),null,16,["value","options"])]),createBaseVNode("div",_hoisted_6$1,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.loop},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("循环")])),_:1},16,["value"]),_hoisted_7$1,createVNode(_component_a_select,mergeProps({value:_ctx.valueLoop.start,"onUpdate:value":_cache[2]||(_cache[2]=$event=>_ctx.valueLoop.start=$event),options:_ctx.weekOptions},_ctx.typeLoopSelectAttrs),null,16,["value","options"]),_hoisted_8$1,createVNode(_component_InputNumber,mergeProps({value:_ctx.valueLoop.interval,"onUpdate:value":_cache[3]||(_cache[3]=$event=>_ctx.valueLoop.interval=$event)},_ctx.typeLoopAttrs),null,16,["value"]),_hoisted_9$1]),createBaseVNode("div",_hoisted_10,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.specify},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("指定")])),_:1},16,["value"]),createBaseVNode("div",_hoisted_11,[createVNode(_component_a_checkbox_group,{value:_ctx.valueList,"onUpdate:value":_cache[4]||(_cache[4]=$event=>_ctx.valueList=$event)},{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(_ctx.weekOptions,(opt=>(openBlock(),createBlock(_component_a_checkbox,mergeProps({key:_ctx.i,value:opt.value},_ctx.typeSpecifyAttrs),{default:withCtx((()=>[createTextVNode(toDisplayString(opt.label),1)])),_:2},1040,["value"])))),128))])),_:1},8,["value"])])])])),_:1},8,["value"])],2)}]]),_sfc_main$4=defineComponent({name:"YearUI",components:{InputNumber:InputNumber},props:useTabProps({defaultValue:"*"}),emits:["change","update:value"],setup(props,context){const nowYear=(new Date).getFullYear();return useTabSetup(props,context,{defaultValue:"*",minValue:0,valueRange:{start:nowYear,end:nowYear+100},valueLoop:{start:nowYear,interval:1}})}}),_hoisted_1$2={class:"item"},_hoisted_2$2={class:"item"},_hoisted_3=createBaseVNode("span",null," 从 ",-1),_hoisted_4=createBaseVNode("span",null," 年 至 ",-1),_hoisted_5=createBaseVNode("span",null," 年 ",-1),_hoisted_6={class:"item"},_hoisted_7=createBaseVNode("span",null," 从 ",-1),_hoisted_8=createBaseVNode("span",null," 年开始，间隔 ",-1),_hoisted_9=createBaseVNode("span",null," 年 ",-1);const YearUI=_export_sfc(_sfc_main$4,[["render",function(_ctx,_cache,$props,$setup,$data,$options){const _component_a_radio=resolveComponent("a-radio"),_component_InputNumber=resolveComponent("InputNumber"),_component_a_radio_group=resolveComponent("a-radio-group");return openBlock(),createElementBlock("div",{class:normalizeClass(`${_ctx.prefixCls}-config-list`)},[createVNode(_component_a_radio_group,{value:_ctx.type,"onUpdate:value":_cache[4]||(_cache[4]=$event=>_ctx.type=$event)},{default:withCtx((()=>[createBaseVNode("div",_hoisted_1$2,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.every},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("每年")])),_:1},16,["value"])]),createBaseVNode("div",_hoisted_2$2,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.range},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("区间")])),_:1},16,["value"]),_hoisted_3,createVNode(_component_InputNumber,mergeProps({class:"w80",value:_ctx.valueRange.start,"onUpdate:value":_cache[0]||(_cache[0]=$event=>_ctx.valueRange.start=$event)},_ctx.typeRangeAttrs),null,16,["value"]),_hoisted_4,createVNode(_component_InputNumber,mergeProps({class:"w80",value:_ctx.valueRange.end,"onUpdate:value":_cache[1]||(_cache[1]=$event=>_ctx.valueRange.end=$event)},_ctx.typeRangeAttrs),null,16,["value"]),_hoisted_5]),createBaseVNode("div",_hoisted_6,[createVNode(_component_a_radio,mergeProps({value:_ctx.TypeEnum.loop},_ctx.beforeRadioAttrs),{default:withCtx((()=>[createTextVNode("循环")])),_:1},16,["value"]),_hoisted_7,createVNode(_component_InputNumber,mergeProps({class:"w80",value:_ctx.valueLoop.start,"onUpdate:value":_cache[2]||(_cache[2]=$event=>_ctx.valueLoop.start=$event)},_ctx.typeLoopAttrs),null,16,["value"]),_hoisted_8,createVNode(_component_InputNumber,mergeProps({class:"w80",value:_ctx.valueLoop.interval,"onUpdate:value":_cache[3]||(_cache[3]=$event=>_ctx.valueLoop.interval=$event)},_ctx.typeLoopAttrs),null,16,["value"]),_hoisted_9])])),_:1},8,["value"])],2)}]]),cronEmits=["change","update:value"],cronProps={value:{type:[String,Array],default:""},multiple:propTypes.bool.def(!1),disabled:propTypes.bool.def(!1),hideSecond:propTypes.bool.def(!1),hideYear:propTypes.bool.def(!1),remote:propTypes.func},_hoisted_1$1={class:"content"},_hoisted_2$1=createBaseVNode("div",null,"近十次执行时间（不含年）",-1);const EasyCronModal=_export_sfc(defineComponent({name:"EasyCronModal",inheritAttrs:!1,components:{BasicModal:BasicModal,EasyCron:defineComponent({__name:"EasyCronInner",props:__spreadValues({},cronProps),emits:[...cronEmits],setup(__props,{emit:__emit}){const{prefixCls:prefixCls}=useDesign("easy-cron-inner");provide("prefixCls",prefixCls);const emit=__emit,props=__props,activeKey=ref(props.hideSecond?"minute":"second"),second=ref("*"),minute=ref("*"),hour=ref("*"),day=ref("*"),month=ref("*"),week=ref("?"),year=ref("*"),inputValues=reactive({second:"",minute:"",hour:"",day:"",month:"",week:"",year:"",cron:""}),preTimeList=ref("执行预览，会忽略年份参数。"),cronValueInner=computed((()=>{let result=[];return props.hideSecond||result.push(second.value?second.value:"*"),result.push(minute.value?minute.value:"*"),result.push(hour.value?hour.value:"*"),result.push(day.value?day.value:"*"),result.push(month.value?month.value:"*"),result.push(week.value?week.value:"?"),props.hideYear||props.hideSecond||result.push(year.value?year.value:"*"),result.join(" ")})),cronValueNoYear=computed((()=>{const v=cronValueInner.value;if(props.hideYear||props.hideSecond)return v;const vs=v.split(" ");return vs.length>=6&&(vs[5]=function(week2){let convert=v=>"0"===v?"1":"1"===v?"0":(Number.parseInt(v)-1).toString(),patten1=/^([0-7])([-/])([0-7])$/,patten2=/^([0-7])(,[0-7])+$/;if(/^[0-7]$/.test(week2))return convert(week2);if(patten1.test(week2))return week2.replace(patten1,(($0,before,separator,after)=>"/"===separator?convert(before)+separator+after:convert(before)+separator+convert(after)));if(patten2.test(week2))return week2.split(",").map((v=>convert(v))).join(",");return week2}(vs[5])),vs.slice(0,vs.length-1).join(" ")})),calTriggerList=simpleDebounce(calTriggerListInner,500);function assignInput(){inputValues.second=second.value,inputValues.minute=minute.value,inputValues.hour=hour.value,inputValues.day=day.value,inputValues.month=month.value,inputValues.week=week.value,inputValues.year=year.value,inputValues.cron=cronValueInner.value}function formatValue(){if(!props.value)return;const values=props.value.split(" ").filter((item=>!!item));if(!values||values.length<=0)return;let i=0;props.hideSecond||(second.value=values[i++]),values.length>i&&(minute.value=values[i++]),values.length>i&&(hour.value=values[i++]),values.length>i&&(day.value=values[i++]),values.length>i&&(month.value=values[i++]),values.length>i&&(week.value=values[i++]),values.length>i&&(year.value=values[i]),assignInput()}function calTriggerListInner(){if(props.remote)return void props.remote(cronValueInner.value,+new Date,(v=>{preTimeList.value=v}));const format="yyyy-MM-dd hh:mm:ss",options={currentDate:dateFormat(new Date,format)},iter=CronParser$1.parseExpression(cronValueNoYear.value,options),result=[];for(let i=1;i<=10;i++)result.push(dateFormat(new Date(iter.next()),format));preTimeList.value=result.length>0?result.join("\n"):"无执行时间"}function onInputBlur(){second.value=inputValues.second,minute.value=inputValues.minute,hour.value=inputValues.hour,day.value=inputValues.day,month.value=inputValues.month,week.value=inputValues.week,year.value=inputValues.year}function onInputCronBlur(event){emitValue(event.target.value)}function emitValue(value){emit("change",value),emit("update:value",value)}return watch((()=>props.value),(newVal=>{newVal!==cronValueInner.value&&formatValue()})),watch(cronValueInner,(newValue=>{calTriggerList(),emitValue(newValue),assignInput()})),assignInput(),formatValue(),calTriggerListInner(),(_ctx,_cache)=>{const _component_a_tab_pane=resolveComponent("a-tab-pane"),_component_a_tabs=resolveComponent("a-tabs"),_component_a_divider=resolveComponent("a-divider"),_component_a_input=resolveComponent("a-input"),_component_a_col=resolveComponent("a-col"),_component_a_tooltip=resolveComponent("a-tooltip"),_component_a_row=resolveComponent("a-row"),_component_a_textarea=resolveComponent("a-textarea");return openBlock(),createElementBlock("div",{class:normalizeClass(`${unref(prefixCls)}`)},[createBaseVNode("div",_hoisted_1$1,[createVNode(_component_a_tabs,{size:"small",activeKey:activeKey.value,"onUpdate:activeKey":_cache[7]||(_cache[7]=$event=>activeKey.value=$event)},{default:withCtx((()=>[_ctx.hideSecond?createCommentVNode("",!0):(openBlock(),createBlock(_component_a_tab_pane,{tab:"秒",key:"second"},{default:withCtx((()=>[createVNode(SecondUI,{value:second.value,"onUpdate:value":_cache[0]||(_cache[0]=$event=>second.value=$event),disabled:_ctx.disabled},null,8,["value","disabled"])])),_:1})),createVNode(_component_a_tab_pane,{tab:"分",key:"minute"},{default:withCtx((()=>[createVNode(MinuteUI,{value:minute.value,"onUpdate:value":_cache[1]||(_cache[1]=$event=>minute.value=$event),disabled:_ctx.disabled},null,8,["value","disabled"])])),_:1}),createVNode(_component_a_tab_pane,{tab:"时",key:"hour"},{default:withCtx((()=>[createVNode(HourUI,{value:hour.value,"onUpdate:value":_cache[2]||(_cache[2]=$event=>hour.value=$event),disabled:_ctx.disabled},null,8,["value","disabled"])])),_:1}),createVNode(_component_a_tab_pane,{tab:"日",key:"day"},{default:withCtx((()=>[createVNode(DayUI,{value:day.value,"onUpdate:value":_cache[3]||(_cache[3]=$event=>day.value=$event),week:week.value,disabled:_ctx.disabled},null,8,["value","week","disabled"])])),_:1}),createVNode(_component_a_tab_pane,{tab:"月",key:"month"},{default:withCtx((()=>[createVNode(MonthUI,{value:month.value,"onUpdate:value":_cache[4]||(_cache[4]=$event=>month.value=$event),disabled:_ctx.disabled},null,8,["value","disabled"])])),_:1}),createVNode(_component_a_tab_pane,{tab:"周",key:"week"},{default:withCtx((()=>[createVNode(WeekUI,{value:week.value,"onUpdate:value":_cache[5]||(_cache[5]=$event=>week.value=$event),day:day.value,disabled:_ctx.disabled},null,8,["value","day","disabled"])])),_:1}),_ctx.hideYear||_ctx.hideSecond?createCommentVNode("",!0):(openBlock(),createBlock(_component_a_tab_pane,{tab:"年",key:"year"},{default:withCtx((()=>[createVNode(YearUI,{value:year.value,"onUpdate:value":_cache[6]||(_cache[6]=$event=>year.value=$event),disabled:_ctx.disabled},null,8,["value","disabled"])])),_:1}))])),_:1},8,["activeKey"]),createVNode(_component_a_divider),createVNode(_component_a_row,{gutter:8},{default:withCtx((()=>[createVNode(_component_a_col,{span:18,style:{"margin-top":"22px"}},{default:withCtx((()=>[createVNode(_component_a_row,{gutter:8},{default:withCtx((()=>[createVNode(_component_a_col,{span:8,style:{"margin-bottom":"12px"}},{default:withCtx((()=>[createVNode(_component_a_input,{value:inputValues.second,"onUpdate:value":_cache[9]||(_cache[9]=$event=>inputValues.second=$event),onBlur:onInputBlur},{addonBefore:withCtx((()=>[createBaseVNode("span",{class:"allow-click",onClick:_cache[8]||(_cache[8]=$event=>activeKey.value="second")},"秒")])),_:1},8,["value"])])),_:1}),createVNode(_component_a_col,{span:8,style:{"margin-bottom":"12px"}},{default:withCtx((()=>[createVNode(_component_a_input,{value:inputValues.minute,"onUpdate:value":_cache[11]||(_cache[11]=$event=>inputValues.minute=$event),onBlur:onInputBlur},{addonBefore:withCtx((()=>[createBaseVNode("span",{class:"allow-click",onClick:_cache[10]||(_cache[10]=$event=>activeKey.value="minute")},"分")])),_:1},8,["value"])])),_:1}),createVNode(_component_a_col,{span:8,style:{"margin-bottom":"12px"}},{default:withCtx((()=>[createVNode(_component_a_input,{value:inputValues.hour,"onUpdate:value":_cache[13]||(_cache[13]=$event=>inputValues.hour=$event),onBlur:onInputBlur},{addonBefore:withCtx((()=>[createBaseVNode("span",{class:"allow-click",onClick:_cache[12]||(_cache[12]=$event=>activeKey.value="hour")},"时")])),_:1},8,["value"])])),_:1}),createVNode(_component_a_col,{span:8,style:{"margin-bottom":"12px"}},{default:withCtx((()=>[createVNode(_component_a_input,{value:inputValues.day,"onUpdate:value":_cache[15]||(_cache[15]=$event=>inputValues.day=$event),onBlur:onInputBlur},{addonBefore:withCtx((()=>[createBaseVNode("span",{class:"allow-click",onClick:_cache[14]||(_cache[14]=$event=>activeKey.value="day")},"日")])),_:1},8,["value"])])),_:1}),createVNode(_component_a_col,{span:8,style:{"margin-bottom":"12px"}},{default:withCtx((()=>[createVNode(_component_a_input,{value:inputValues.month,"onUpdate:value":_cache[17]||(_cache[17]=$event=>inputValues.month=$event),onBlur:onInputBlur},{addonBefore:withCtx((()=>[createBaseVNode("span",{class:"allow-click",onClick:_cache[16]||(_cache[16]=$event=>activeKey.value="month")},"月")])),_:1},8,["value"])])),_:1}),createVNode(_component_a_col,{span:8,style:{"margin-bottom":"12px"}},{default:withCtx((()=>[createVNode(_component_a_input,{value:inputValues.week,"onUpdate:value":_cache[19]||(_cache[19]=$event=>inputValues.week=$event),onBlur:onInputBlur},{addonBefore:withCtx((()=>[createBaseVNode("span",{class:"allow-click",onClick:_cache[18]||(_cache[18]=$event=>activeKey.value="week")},"周")])),_:1},8,["value"])])),_:1}),createVNode(_component_a_col,{span:8},{default:withCtx((()=>[createVNode(_component_a_input,{value:inputValues.year,"onUpdate:value":_cache[21]||(_cache[21]=$event=>inputValues.year=$event),onBlur:onInputBlur},{addonBefore:withCtx((()=>[createBaseVNode("span",{class:"allow-click",onClick:_cache[20]||(_cache[20]=$event=>activeKey.value="year")},"年")])),_:1},8,["value"])])),_:1}),createVNode(_component_a_col,{span:16},{default:withCtx((()=>[createVNode(_component_a_input,{value:inputValues.cron,"onUpdate:value":_cache[22]||(_cache[22]=$event=>inputValues.cron=$event),onBlur:onInputCronBlur},{addonBefore:withCtx((()=>[createVNode(_component_a_tooltip,{title:"Cron表达式"},{default:withCtx((()=>[createTextVNode("式")])),_:1})])),_:1},8,["value"])])),_:1})])),_:1})])),_:1}),createVNode(_component_a_col,{span:6},{default:withCtx((()=>[_hoisted_2$1,createVNode(_component_a_textarea,{type:"textarea",value:preTimeList.value,rows:5},null,8,["value"])])),_:1})])),_:1})])],2)}}})},emits:["register","ok"],setup(_,{emit:emit}){const attrs=useAttrs(),[registerModal,{closeModal:closeModal}]=useModalInner();return{attrs:attrs,registerModal:registerModal,onOk:function(){closeModal(),emit("ok")}}}}),[["render",function(_ctx,_cache,$props,$setup,$data,$options){const _component_EasyCron=resolveComponent("EasyCron"),_component_BasicModal=resolveComponent("BasicModal");return openBlock(),createBlock(_component_BasicModal,{onRegister:_ctx.registerModal,title:"Cron表达式",width:"800px",destroyOnClose:"",onOk:_ctx.onOk},{default:withCtx((()=>[createVNode(_component_EasyCron,normalizeProps(guardReactiveProps(_ctx.attrs)),null,16)])),_:1},8,["onRegister","onOk"])}]]),_hoisted_1=["disabled"],_hoisted_2=createBaseVNode("span",null,"选择",-1),_sfc_main$1=defineComponent({__name:"EasyCronInputCell",props:{value:propTypes.string.def(""),placeholder:propTypes.string.def("请输入cron表达式"),disabled:propTypes.bool.def(!1)},emits:["open","update:value"],setup(__props,{emit:__emit}){const props=__props,emit=__emit,editCronValue=ref(props.value);function open(){emit("open")}return watch((()=>props.value),(newVal=>{newVal!==editCronValue.value&&(editCronValue.value=newVal)})),watch(editCronValue,(newVal=>{emit("update:value",newVal)})),(_ctx,_cache)=>{const _component_a_input=resolveComponent("a-input");return openBlock(),createBlock(_component_a_input,{placeholder:__props.placeholder,value:editCronValue.value,"onUpdate:value":_cache[0]||(_cache[0]=$event=>editCronValue.value=$event),disabled:__props.disabled,style:{width:"100%"}},{addonAfter:withCtx((()=>[createBaseVNode("a",{class:"open-btn",disabled:__props.disabled?"disabled":null,onClick:open},[createVNode(Icon,{icon:"ant-design:setting-outlined"}),_hoisted_2],8,_hoisted_1)])),_:1},8,["placeholder","value","disabled"])}}}),_sfc_main=defineComponent({__name:"EasyCronInput",props:__spreadProps(__spreadValues({},cronProps),{placeholder:propTypes.string.def("请输入cron表达式"),exeStartTime:propTypes.oneOfType([propTypes.number,propTypes.string,propTypes.object]).def(0)}),emits:[...cronEmits],setup(__props,{emit:__emit}){const{createConfirm:createConfirm,createMessage:$message}=useMessage(),{prefixCls:prefixCls}=useDesign("easy-cron-input"),emit=__emit,props=__props,[registerModal,{openModal:openModal}]=useModal(),values=ref([]);watch((()=>props.value),(newVal=>{newVal?Array.isArray(newVal)?values.value=newVal:values.value=[newVal]:values.value=[],0!==values.value.length||props.multiple||onAdd()}),{immediate:!0}),watch(values,(newVal=>{let val=newVal;props.multiple||(val=newVal[0]),val||(val=""),emit("change",val),emit("update:value",val)}),{deep:!0});const cellProps=computed((()=>({placeholder:props.placeholder,disabled:props.disabled})));function onAdd(){values.value.push("")}const modalValue=ref(""),modalIndex=ref(-1);function onModalOk(){values.value[modalIndex.value]=modalValue.value}return(_ctx,_cache)=>{const _component_a_col=resolveComponent("a-col"),_component_a_button=resolveComponent("a-button"),_component_a_row=resolveComponent("a-row"),_component_a_form_item_rest=resolveComponent("a-form-item-rest");return openBlock(),createElementBlock("div",{class:normalizeClass(`${unref(prefixCls)}`)},[createVNode(_component_a_form_item_rest,null,{default:withCtx((()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(values.value,((_,i)=>(openBlock(),createBlock(_component_a_row,{class:normalizeClass(["input-row",{"multiple-mode":_ctx.multiple}]),type:"flex"},{default:withCtx((()=>[createVNode(_component_a_col,{class:"left"},{default:withCtx((()=>[createVNode(_sfc_main$1,mergeProps({value:values.value[i],"onUpdate:value":$event=>values.value[i]=$event},cellProps.value,{onOpen:()=>function(i){if(!props.disabled){const val=values.value[i];if(val)try{const{errors:errors}=CronParser$1.parseString(val);if(errors&&Object.keys(errors).length>0)throw new Error}catch(e){return void $message.warn("Cron表达式不正确")}modalValue.value=val,modalIndex.value=i,openModal()}}(i),style:{width:"100%"}}),null,16,["value","onUpdate:value","onOpen"])])),_:2},1024),createVNode(_component_a_col,{class:"right"},{default:withCtx((()=>[_ctx.multiple?(openBlock(),createBlock(_component_a_button,{key:0,preIcon:"ant-design:minus",onClick:$event=>function(i){createConfirm({title:"删除",iconType:"warning",content:"确定要删除？",onOk:()=>{values.value.splice(i,1)}})}(i)},null,8,["onClick"])):createCommentVNode("",!0)])),_:2},1024)])),_:2},1032,["class"])))),256)),_ctx.multiple?(openBlock(),createBlock(_component_a_button,{key:0,preIcon:"ant-design:plus",type:"link",onClick:onAdd},{default:withCtx((()=>[createTextVNode("添加")])),_:1})):createCommentVNode("",!0),createVNode(EasyCronModal,{onRegister:unref(registerModal),value:modalValue.value,"onUpdate:value":_cache[0]||(_cache[0]=$event=>modalValue.value=$event),exeStartTime:__props.exeStartTime,hideYear:_ctx.hideYear,remote:_ctx.remote,hideSecond:_ctx.hideSecond,onOk:onModalOk},null,8,["onRegister","value","exeStartTime","hideYear","remote","hideSecond"])])),_:1})],2)}}});export{_sfc_main as default};
